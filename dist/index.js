(()=>{"use strict";var e={504:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.add__form{display:flex;align-items:center}.add__block{margin-top:40px}.add__form{display:flex;flex-direction:column;gap:40px;padding:20px}.add__text{font-size:24px;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.add__img-block{display:flex}.add__preview-block{height:480px;width:480px;border-radius:35px;overflow:hidden;display:flex;justify-content:center;align-items:center;border:2px solid #fff}.add__preview{width:100%;height:100%;object-fit:cover;border-radius:20px;pointer-events:none}.add__description{display:block;box-sizing:border-box;width:100%;resize:none;overflow-y:hidden;border:1px solid gray;height:65px;color:#f9fdfe;background:rgba(0,0,0,0);outline:0;border-radius:20px;padding:20px;font-weight:bold;font-size:22px}.add__description-block{width:100%}.add__note{margin-top:10px;font-size:16px}.add__img{height:0;overflow:hidden;width:0}.add__img+label{height:25px;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);border:none;color:#fff;cursor:pointer;display:inline-block;font-weight:500;outline:none;padding:1rem 50px;position:relative;transition:all .3s;vertical-align:middle}.add__img+label.add__label{background-color:#ee6d9e;border-radius:0;overflow:hidden}.add__img+label.add__label span{display:inline-block;height:100%;transition:all .3s;width:100%}.add__img+label.add__label::before{color:#fff;content:"✨";font-size:130%;height:100%;left:10px;line-height:2.6;position:absolute;top:-180%;transition:all .3s;width:100%}.add__img+label.add__label:hover span{transform:translateY(300%)}.add__img+label.add__label:hover::before{top:0}.drop-zone{border:2px dashed gray;height:480px;width:480px;border-radius:20px;display:flex;justify-content:center;align-items:center}.drop-zone__text{text-align:center;font-size:26px}.drop-zone__text-block{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:10px}.dragover{background-color:#d3d3d3;border-style:solid}.lds-spinner{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner div{transform-origin:40px 40px;animation:lds-spinner 1.2s linear infinite}.lds-spinner div:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner div:nth-child(1){transform:rotate(0deg);animation-delay:-1.1s}.lds-spinner div:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner div:nth-child(3){transform:rotate(60deg);animation-delay:-0.9s}.lds-spinner div:nth-child(4){transform:rotate(90deg);animation-delay:-0.8s}.lds-spinner div:nth-child(5){transform:rotate(120deg);animation-delay:-0.7s}.lds-spinner div:nth-child(6){transform:rotate(150deg);animation-delay:-0.6s}.lds-spinner div:nth-child(7){transform:rotate(180deg);animation-delay:-0.5s}.lds-spinner div:nth-child(8){transform:rotate(210deg);animation-delay:-0.4s}.lds-spinner div:nth-child(9){transform:rotate(240deg);animation-delay:-0.3s}.lds-spinner div:nth-child(10){transform:rotate(270deg);animation-delay:-0.2s}.lds-spinner div:nth-child(11){transform:rotate(300deg);animation-delay:-0.1s}.lds-spinner div:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes lds-spinner{0%{opacity:1}100%{opacity:0}}',""]);const a=i},175:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,"@import url(https://fonts.cdnfonts.com/css/axiforma);"]),i.push([e.id,".comments_container{text-align:center}.post_wrapper{height:480px;background-color:#1e1e1e;border-radius:50px;padding:30px;margin-bottom:50px;margin-top:40px}.post_likes{color:#c4c4c4}.mini-round-img{width:70px;height:70px;border-radius:100px;box-shadow:0 0 0 2px #ff6200;object-fit:cover}.post{display:flex;justify-content:space-between}.post img{pointer-events:none}.post_img{width:100%}.post_img_container{height:480px;width:480px;border-radius:35px;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative}.post_img_container img{width:100%;height:100%;object-fit:cover}.post_img_container .post_date{font-size:12px;color:#c4c4c4;position:absolute;bottom:0}.comment_text{overflow-wrap:break-word;width:231px}.post_info_cotainer{flex-grow:1;text-align:left;position:relative}.post_info_cotainer a{color:#f9fdfe}.post_info_account{display:flex;align-items:center}.post_info_account_text{margin-left:22px}.post_info_description{margin-top:15px;font-size:17px}.post_info_description_text{overflow-y:scroll;overflow-wrap:break-word;width:300px;height:50px;padding-right:89px}.post_info_description_text::-webkit-scrollbar{width:5px;height:auto}.post_info_description_text::-webkit-scrollbar-button{width:0px;height:0px}.post_info_description_text::-webkit-scrollbar-thumb{background:rgba(255,255,255,.202);border-radius:50px}.post_info_description_text::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.post_info_description_text::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.tools{height:70px;border-radius:50px;justify-content:space-around;align-items:center;display:flex;width:inherit;background-color:#1e1e1e}.tools div{cursor:pointer}.tools_container_item{display:flex;gap:20px;transition:.2s}.tools_container_item p{cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tools_container_item:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.tools_container_item:active{filter:opacity(0.5)}.comment{margin-top:30px}.comment_container{margin-top:10px;overflow-y:scroll;width:90%;height:255px;text-align:start;padding-right:20px}.comment_container::-webkit-scrollbar{width:5px;height:auto}.comment_container::-webkit-scrollbar-button{width:0px;height:0px}.comment_container::-webkit-scrollbar-thumb{background:rgba(255,255,255,.202);border-radius:50px}.comment_container::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.comment_container::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.comment_container .comment_like-btn:active{filter:opacity(0.5)}.comment_container .delete_svg{height:24px;width:24px}.comment_container .post_info{display:flex;gap:15px;align-items:center}.comment_container .post_info_comment{display:flex;justify-content:space-between}.comment_container .post_info_comment button{border:0;background:rgba(0,0,0,0)}.comment_container .post_info_comment img{width:30px;height:30px;border-radius:100px;object-fit:cover}.comment_container .comment_tools{display:flex;gap:10px;color:#c4c4c4}.comment_container .comment_tools button{border:0;background:rgba(0,0,0,0);color:#c4c4c4}.comment_form_container{display:flex;margin-top:50px;justify-content:space-between;width:90%;align-items:center}.comment_form_container button{border:0;background:rgba(0,0,0,0);color:#fff}.comment_form_container button:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.comment_form_container button:active{filter:opacity(0.5)}.comment_form_container input{border:none;background-color:#121212;height:35px;width:87%;border-radius:50px;text-indent:20px;outline:none;color:#fff;font-size:15px}.comment_form_container input:required:invalid~button.imput_comment_btn{opacity:.65;pointer-events:none}@media(max-width: 1190px){.nav-bar_container{width:70%;height:40px;flex-direction:initial;position:fixed;left:50%;transform:translateX(-50%);top:calc(100vh - 70px);margin:0 auto;box-shadow:0px 2px 5px 1px gray;z-index:9999}}.display_none{display:none}.popup{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.popup_content{background-color:#121212;padding:20px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.5);color:#f9fdfe;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.popup_content p{margin:0 0 10px;font-size:18px}.popup_button{padding:10px 20px;background-color:red;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer}.popup_button:hover{background-color:#c00}.cancel_button{background-color:green}.cancel_button:hover{background-color:#006700}",""]);const a=i},118:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.login_page{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;height:100vh;overflow:hidden}.login_page .login_form{transition:.3s;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;top:0;gap:20px}.login_page .login_form__active{justify-content:space-around}.login_page .login_btn,.login_page .signup_btn{position:relative;text-align:center;outline:none;border:none;padding:12px 24px;width:115px;border-radius:10px;cursor:pointer;background:#5e5e5e;transition:.5s;border:2px solid rgba(0,0,0,0)}.login_page .login_btn::after,.login_page .signup_btn::after{position:absolute;top:-2px;left:-2px;opacity:0;content:"";width:100%;height:100%;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);transition:.5s;border-radius:10px;border:2px solid rgba(0,0,0,0)}.login_page .login_btn::after::content,.login_page .signup_btn::after::content{text-align:center;padding:20px}.login_page .login_btn:hover::after,.login_page .signup_btn:hover::after{opacity:1;transition:.5s;border:2px solid #fff}.login_page .login_btn .text_button,.login_page .signup_btn .text_button{position:relative;z-index:3}.login_page input[type=radio]{display:none}.login_popup__fade{position:fixed;height:100vh;width:100vw;background-color:rgba(0,0,0,.3294117647)}.popups{display:flex;gap:1500px;position:relative;left:0px;transition:.3s}.login_active{left:-975px}.signup_active{left:975px}.login_popup,.signup_popup{height:fit-content;position:relative;transition:.5s}.login_popup .popup_wrapper,.signup_popup .popup_wrapper{position:relative;display:flex;flex-direction:column;align-items:center;gap:15px;background-color:#5e5e5e;padding:20px;width:400px;border-radius:20px;height:fit-content;z-index:3}.login_popup input,.signup_popup input{width:90%;border-radius:10px;padding:5px 10px;border:none;transition:.3s}.login_popup input:invalid,.signup_popup input:invalid{box-shadow:inset 0px 0px 10px red;border:3px solid red;transition:.2s;animation:shake .3s}@keyframes shake{25%{transform:translateX(4px)}50%{transform:translateX(-4px)}75%{transform:translateX(4px)}}.login_popup input::placeholder,.signup_popup input::placeholder{color:#000}.login_popup input:focus,.signup_popup input:focus{outline:none;transform:scale(1.01)}.login_popup .validate_error,.signup_popup .validate_error{position:absolute;top:calc(100% - 20px);transition:.4s;background-color:red;width:100%;border-radius:0 0 20px 20px;padding:30px 10px 10px 10px;box-sizing:border-box;text-align:center;z-index:1}.login_popup .hide_error,.signup_popup .hide_error{top:30px}.login_popup button,.signup_popup button{padding:5px 10px;cursor:pointer;border-radius:10px;background-color:#fff;border:2px solid #fff;transition:.3s}.login_popup button:hover,.signup_popup button:hover{border:2px solid #000}',""]);const a=i},727:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.settings__icon{width:40px;height:40px;filter:invert(98%) sepia(7%) saturate(331%) hue-rotate(290deg) brightness(114%) contrast(100%)}.settings__title{font-weight:400;text-align:center}.settings__subtitle{font-weight:400;font-size:24px;text-align:center;margin-bottom:10px}.settings__credentials{display:flex;flex-direction:column;gap:10px}.settings__interaction{display:flex;flex-direction:column;gap:10px}.settings__block-title{font-size:20px;font-weight:400}.settings__label{display:flex;gap:20px;align-items:center}.settings__error{display:none}.settings__name-block{margin-bottom:10px}.settings__hint{display:none;position:absolute;width:200px;font-size:14px;padding:10px;border-radius:20px;right:55px;top:-75px;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia)}.settings__hint_icon{cursor:pointer;width:25px;height:25px}.settings__hint_open{display:block}.settings__input{border-radius:10px;padding:5px 10px;border:none;font-size:18px;transition:.5s all}.settings__input:focus{border:none;outline:none;transform:scale(1.1)}.settings__submitCredentials{margin:20px 0}.settings__submitCredentials,.settings__submitInteraction,.settings__logout{display:flex;justify-content:center;align-items:center;width:150px !important;height:50px}.settings__description{margin-top:10px;display:block;box-sizing:border-box;width:100%;resize:none;overflow-y:hidden;border:1px solid gray;height:110px;color:#f9fdfe;background:rgba(0,0,0,0);outline:0;border-radius:20px;padding:20px;font-weight:400;font-size:20px}.settings__theme-block,.settings__lang-block{display:flex;gap:20px;position:relative}.settings__theme{display:none}.settings__theme+label{cursor:pointer}.settings__theme+label:before{background:#fff;height:21px;border:1px solid #1e1e1e;content:" ";display:inline-block;width:21px;vertical-align:middle;margin-right:10px;position:relative;top:-1px;border-radius:5px}.settings__theme:checked+label:before{content:"✓";color:#1e1e1e;font-size:24px;text-align:center;line-height:21px}.settings__lang{position:relative;width:50px;height:25px;-webkit-appearance:none;appearance:none;background:red;outline:none;cursor:pointer;position:relative;background-image:url(https://i.postimg.cc/65L8YXnf/640px-Flag-of-the-United-Kingdom-3-5-svg.png);background-size:cover;border-radius:50px;transition:background-image .9s;box-shadow:0px 2px 5px 1px gray}.settings__lang::before{content:"";border-radius:50%;position:absolute;top:0;left:0;height:25px;width:25px;background:#c90628;border-radius:50px;transition:all .9s}.settings__lang:checked{background-image:url(https://i.postimg.cc/SKL9bZ7x/1200px-Flag-of-Ukraine-svg.png);transition:background-image .9s}.settings__lang:checked::before{transform:translateX(100%);background-color:#fdd703;transition:all .9s}.settings__btns{margin:20px 0;display:flex;gap:20px;align-items:center}.settings__deleteAccount{cursor:pointer;margin-left:auto;width:53px;height:53px;filter:invert(98%) sepia(105%) saturate(500%) hue-rotate(290deg) brightness(114%) contrast(100%);transition:.9s all}.settings__deleteAccount:hover{transform:rotate(360deg)}',""]);const a=i},843:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.flex_center{display:flex;align-items:center;justify-content:center}.imput_comment_btn{cursor:pointer}.imput_comment_btn .lds-ring{display:inline-block;position:relative;width:25px;height:25px}.imput_comment_btn .lds-ring div{box-sizing:border-box;display:block;position:absolute;width:25px;height:25px;margin:4px;border:4px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.lds-ring{display:inline-block;position:relative;width:80px;height:80px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.global_loader{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:25;display:flex;align-items:center;justify-content:center;background-color:rgba(128,128,128,.3);backdrop-filter:blur(25px)}.lds-roller{display:inline-block;position:relative;width:80px;height:80px;transform:scale(2)}.lds-roller div{animation:lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;transform-origin:40px 40px}.lds-roller div:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#fff;margin:-4px 0 0 -4px}.lds-roller div:nth-child(1){animation-delay:-0.036s}.lds-roller div:nth-child(1):after{top:63px;left:63px}.lds-roller div:nth-child(2){animation-delay:-0.072s}.lds-roller div:nth-child(2):after{top:68px;left:56px}.lds-roller div:nth-child(3){animation-delay:-0.108s}.lds-roller div:nth-child(3):after{top:71px;left:48px}.lds-roller div:nth-child(4){animation-delay:-0.144s}.lds-roller div:nth-child(4):after{top:72px;left:40px}.lds-roller div:nth-child(5){animation-delay:-0.18s}.lds-roller div:nth-child(5):after{top:71px;left:32px}.lds-roller div:nth-child(6){animation-delay:-0.216s}.lds-roller div:nth-child(6):after{top:68px;left:24px}.lds-roller div:nth-child(7){animation-delay:-0.252s}.lds-roller div:nth-child(7):after{top:63px;left:17px}.lds-roller div:nth-child(8){animation-delay:-0.288s}.lds-roller div:nth-child(8):after{top:56px;left:12px}@keyframes lds-roller{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}',""]);const a=i},728:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.search_popup_block{height:calc(100vh - 150px);width:500px;min-width:450px;max-width:650px;background-color:rgba(0,0,0,.5);backdrop-filter:blur(5px);position:fixed;left:-3000px;display:flex;flex-direction:column;top:110px;transition:.2s;z-index:2;display:flex;flex-direction:column;align-items:center;border-radius:50px;gap:20px;overflow:hidden}.search_popup_block .search_input{border-radius:50px;border:none;padding:10px 20px;margin-top:40px;width:80%}.search_popup_block .search_input:focus{outline:none}.search_popup_block .search_nav{display:flex;gap:20px}.search_popup_block button{position:relative;text-align:center;outline:none;border:none;padding:12px 24px;width:115px;border-radius:50px;cursor:pointer;background:#5e5e5e;transition:.5s;border:2px solid rgba(0,0,0,0)}.search_popup_block button::after{position:absolute;top:-2px;left:-2px;opacity:0;content:"";width:100%;height:100%;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);transition:.5s;border-radius:50px;border:2px solid rgba(0,0,0,0)}.search_popup_block button::after::content{text-align:center;padding:20px}.search_popup_block button:hover::after{opacity:1;transition:.5s;border:2px solid #fff}.search_popup_block button .text_button{position:relative;z-index:3}.search_popup_block .search_results{width:200%;height:100%;display:flex;justify-content:space-between;overflow-x:hidden;gap:10px;margin-bottom:40px;position:relative;left:300px}.search_popup_block .search_results_users,.search_popup_block .search_results_posts{display:flex;flex-direction:column;gap:10px;width:400px;overflow-y:scroll;border-radius:10px 0 0 10px}.search_popup_block .search_results_users::-webkit-scrollbar,.search_popup_block .search_results_posts::-webkit-scrollbar{width:4px;transition:.3s}.search_popup_block .search_results_users::-webkit-scrollbar-track,.search_popup_block .search_results_posts::-webkit-scrollbar-track{background:rgba(241,241,241,0)}.search_popup_block .search_results_users::-webkit-scrollbar-thumb,.search_popup_block .search_results_posts::-webkit-scrollbar-thumb{background:#888;border-radius:3px}.search_popup_block .search_results_users::-webkit-scrollbar-thumb:hover,.search_popup_block .search_results_posts::-webkit-scrollbar-thumb:hover{background:#555}.search_popup_block .search_results_users .lds-ring,.search_popup_block .search_results_posts .lds-ring{position:relative;left:calc(50% - 35px)}.search_popup_block .search_results .search_post{display:flex;text-decoration:none;gap:30px;color:#fff;align-items:center}.search_popup_block .search_results .search_post_image{height:70px;width:70px;border-radius:10px;object-fit:cover}.search_popup_block .search_results .search_user{display:flex;text-decoration:none;gap:30px;color:#fff;align-items:center}.search_popup_block .search_results .search_user_image{height:70px;width:70px;border-radius:50%;object-fit:cover}.search_popup_block .posts_active{left:-300px}.search_active{left:calc(50% - 200px)}.overflow_hidden{overflow:hidden;position:relative}',""]);const a=i},993:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,"@import url(https://fonts.cdnfonts.com/css/axiforma);"]),i.push([e.id,"@import url(https://fonts.cdnfonts.com/css/axiforma);"]),i.push([e.id,'.header{width:100%;margin:0 auto;font-family:"Axiforma",sans-serif;font-family:"Axiforma",sans-serif;padding-top:20px;display:flex;align-items:center;justify-content:space-between}.header input{-webkit-appearance:none;position:relative;width:40px;height:20px;background-image:url(https://i.postimg.cc/Hn0nstVK/Screenshot-2020-04-16-at-1-07-19-PM.png);background-size:cover;border-radius:50px;outline:none;transition:background-image .9s;box-shadow:0px 2px 5px 1px gray}.header input:before{content:"";position:absolute;top:0;left:0;height:20px;width:20px;background-color:navy;border-radius:50px;transition:all .9s;background-color:#ecf0f3}.header input:before input:before{content:"";position:absolute;top:0;left:0;height:20px;width:20px;background-color:navy;border-radius:50px;transition:all .9s;background-color:#ecf0f3}.header input:checked{background-image:url(https://i.postimg.cc/857jHw2q/Screenshot-2020-04-16-at-1-07-06-PM.png);transition:background-image .9s}.header input:checked{background-image:url(https://i.postimg.cc/857jHw2q/Screenshot-2020-04-16-at-1-07-06-PM.png);transition:background-image .9s}.header input:checked:before{transform:translate(100%);transition:all .9s;background-color:#f7ca33}.header input:checked:before{transform:translate(100%);transition:all .9s;background-color:#f7ca33}.text-logo{font-size:25px;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);-webkit-text-fill-color:rgba(0,0,0,0);-webkit-background-clip:text}.logo-header_container{display:flex;align-items:center}.logo-header{width:10%}.header-bar_container{padding-left:6px;padding-right:6px;background-color:#1e1e1e;align-items:center;width:275px;height:50px;display:flex;justify-content:space-around;border-radius:50px}.header-bar_container a:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.header-bar_container a:active{filter:opacity(0.5)}.header-bar_container input{cursor:pointer}.header-bar_container button{height:24px;width:24px;border:none;background:rgba(0,0,0,0);transition:.2s;cursor:pointer}.header-bar_container button:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.header-bar_container button:active{filter:opacity(0.5)}.header-bar_container button:disabled{cursor:auto;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.header-bar_container a.profile-btnBefore{text-align:center;width:108px;height:35px;border:none;background:#121212;border-radius:25px;color:#f9fdfe;transition:background .2s;display:flex;align-items:center;justify-content:center;transition:.2s}.header-bar_container a.profile-btnBefore:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.header-bar_container a.profile-btnBefore:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.header-bar_container a.profile-btnBefore:active{filter:opacity(0.5)}.profile-btn{height:24px;width:24px;border-radius:50%}.create_post-btn{height:24px;width:24px}.nav-bar_container{position:fixed;top:50%;left:3%;transform:translate(0, -50%);padding-top:6px;padding-bottom:6px;background-color:#1e1e1e;align-items:center;height:275px;width:50px;display:flex;justify-content:space-around;border-radius:50px;margin-right:20px;flex-direction:column}.nav-bar_container button{cursor:pointer}.nav-bar_container a:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.nav-bar_container a:active{filter:opacity(0.5)}.nav-bar_container button{height:24px;width:24px;border:none;background:rgba(0,0,0,0);transition:.2s}.nav-bar_container button:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);transition:.2s}.nav-bar_container button:active{filter:opacity(0.5)}.nav-bar_container button:disabled{filter:opacity(0.5)}.mini_img{width:25px;height:25px;border-radius:100px;object-fit:cover}.setting_popup{position:fixed;top:50%;left:-100%;transform:translate(0, -50%);background-color:rgba(30,30,30,.5450980392);padding:20px 40px;height:650px;width:700px;display:flex;border-radius:50px;margin-right:20px;flex-direction:column;transition:all .6s ease-in-out;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.open{left:10%}.liked_container{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:345px;height:200px;border-radius:50px;align-items:center;justify-content:center;z-index:9999;transition:all .6s ease-in-out;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;flex-wrap:wrap;background-color:rgba(30,30,30,0.5450980392);padding:40px;gap:20px;overflow-y:scroll}.liked_container::-webkit-scrollbar{width:5px;height:auto}.liked_container::-webkit-scrollbar-button{width:0px;height:0px}.liked_container::-webkit-scrollbar-thumb{background:rgba(255,255,255,.202);border-radius:50px}.liked_container::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.liked_container::-webkit-scrollbar-corner{background:rgba(0,0,0,0)}.liked_img{cursor:pointer;object-fit:cover;width:100px;height:100px;border-radius:10px}',""]);const a=i},659:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.open__post-btn{position:relative;text-align:center;outline:none;border:none;padding:10px;width:115px;border-radius:10px;cursor:pointer;background:#5e5e5e;transition:.5s;border:2px solid rgba(0,0,0,0);color:#f9fdfe}.open__post-btn::after{position:absolute;top:-2px;left:-2px;opacity:0;content:"";width:100%;height:100%;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);transition:.5s;border-radius:10px;border:2px solid rgba(0,0,0,0)}.open__post-btn::after::content{text-align:center;padding:20px}.open__post-btn:hover::after{opacity:1;transition:.5s;border:2px solid #fff}.open__post-btn .text_button{position:relative;z-index:3}.open__post-btn:disabled{cursor:not-allowed}.open__post-btn:disabled::after{position:absolute;top:-2px;left:-2px;opacity:0;content:"";width:100%;height:100%;background:gray;transition:.5s;border-radius:10px;border:2px solid rgba(0,0,0,0)}.open__post-btn:disabled::after::content{text-align:center;padding:20px}.open__post-fav{cursor:pointer;width:40px;height:40px;filter:invert(35%) sepia(13%) saturate(18%) hue-rotate(351deg) brightness(98%) contrast(86%)}.open__post-settings{margin-top:20px;display:flex;align-items:center;justify-content:space-between}.filter{filter:invert(72%) sepia(53%) saturate(6619%) hue-rotate(1deg) brightness(103%) contrast(105%)}',""]);const a=i},184:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,".post__block{margin:20px auto;display:flex;flex-wrap:wrap;gap:20px;max-width:950px;width:100%}.post__img{cursor:pointer;object-fit:cover;width:222px;height:222px;border-radius:10px}",""]);const a=i},39:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,".active{background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.active_icon{filter:invert(72%) sepia(53%) saturate(6619%) hue-rotate(18deg) brightness(103%) contrast(105%)}.user{max-width:950px;width:100%;margin:40px auto 20px}.user__infoStat{width:100%}.user__divider{width:2px;height:45px;background-color:#28282a;border-radius:10px}.user__block{display:flex;gap:30px}.user__avatar_img{object-fit:cover;width:180px;height:180px;border-radius:50%}.user__avatar-block{position:relative}.user__avatar_add{position:absolute;width:20px;height:20px;top:10px;left:10px}.user__info{margin-top:10px;display:flex;justify-content:space-between}.user__name{display:flex;flex-direction:column}.user__name_title{font-size:28px}.user__name_nickname{font-size:22px;color:#c4c4c4}.user__statistics{display:flex;align-items:center;gap:35px}.user__statistics_title{font-size:21px;color:#c4c4c4}.user__statistics-block{display:flex;flex-direction:column;gap:5px;justify-content:center;align-items:center}.user__description{font-size:22px;color:#c4c4c4}.user__description-block{margin-top:20px;display:flex;justify-content:space-between;align-items:center}.user__post-block{margin-top:15px;display:flex;gap:65px;margin-left:7%}.user__post-item{cursor:pointer;display:flex;gap:6px;align-items:center}.user__post-item>img{border-radius:5px;width:20px;height:20px}.user__post-item_text{cursor:pointer;border:none;font-size:22px;color:#c4c4c4;background-color:rgba(0,0,0,0)}.divider{margin-top:30px;max-width:950px;width:100%;height:2px;background-color:#28282a;border-radius:10px}.divider__part{-webkit-transition:all .5s;-moz-transition:all .5s;transition:all .5s;margin-left:7%;width:10%;border-radius:10px;height:2px;background:linear-gradient(270deg, rgb(255, 111, 0), orange, fuchsia)}.subscribe__btn{width:140px}",""]);const a=i},292:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,".post__block{margin:20px auto;display:flex;flex-wrap:wrap;gap:20px;max-width:950px;width:100%}.post__img{cursor:pointer;object-fit:cover;width:222px;height:222px;border-radius:10px}",""]);const a=i},964:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),s=n(645),i=n.n(s)()(r());i.push([e.id,'.light-theme{background-color:#f9fdfe;color:#121212}.light-theme .header .header-bar_container{background-color:#f9fdfe}.light-theme .header-bar_container{background-color:#f9fdfe}.light-theme .header button{filter:invert(1)}.light-theme .header a.profile-btn{background-color:#c4c4c4}.light-theme .nav-bar_container{background-color:#f9fdfe}.light-theme .nav-bar_container button{filter:invert(1)}.light-theme .nav-bar_container a{filter:invert(1)}.light-theme .comments_container .post_wrapper{border:1px solid rgba(196,196,196,.3294117647)}.light-theme .comments_container .tools{border:1px solid rgba(196,196,196,.3294117647)}.light-theme .comments_container div{background-color:rgba(0,0,0,0);color:#121212}.light-theme .comments_container svg{filter:invert(1)}.light-theme .comments_container input{background-color:rgba(196,196,196,.3294117647);color:#121212}.light-theme .comments_container .comment_tools{color:#c4c4c4}.light-theme .comments_container .comment_tools_reply{color:#c4c4c4}.light-theme .user__description{color:#5e5e5e}.light-theme .user__name_nickname{color:#5e5e5e}.light-theme .user__statistics_title{color:#5e5e5e}.light-theme .divider{background-color:#c4c4c4}.light-theme .add__description{color:#5e5e5e;font-weight:400}.light-theme .create_post-btn{filter:invert(1)}.light-theme .create_post-btn .post_info_cotainer a{color:#121212}.light-theme .create_post-btn .setting_popup{background-color:rgba(249,253,254,.6392156863);border:1px solid rgba(196,196,196,.3294117647);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}*{margin:0;padding:0}html{scroll-behavior:smooth;overflow:auto}@media screen and (min-width: 960px){html{margin-left:calc(100vw - 100%);margin-right:0}}body{font-family:"Roboto",sans-serif;font-size:20px;font-weight:400;background-color:#121212;color:#f9fdfe;transition:.2s;min-height:100vh;box-sizing:border-box;user-select:none;display:flex;flex-direction:column}main{flex-grow:1}.light-theme footer a{color:#000}footer{display:flex;gap:20px;transition:.2s;justify-content:center}footer a{text-decoration:none;color:#fff;font-size:20px}footer a:hover{color:#555}::-webkit-scrollbar{width:6px;transition:.3s}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}.preload{-webkit-transition:none !important;-moz-transition:none !important;-ms-transition:none !important;-o-transition:none !important}.container{max-width:950px;margin:0 auto;width:100%}.day{background-color:#f9fdfe}a{text-decoration:none}',""]);const a=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&i[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var s={},i=[],a=0;a<e.length;a++){var c=e[a],l=o.base?c[0]+o.base:c[0],d=s[l]||0,p="".concat(l," ").concat(d);s[l]=d+1;var u=n(p),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(g);else{var h=r(g,o);o.byIndex=a,t.splice(a,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var a=n(s[i]);t[a].references--}for(var c=o(e,r),l=0;l<s.length;l++){var d=n(s[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),o=n(795),r=n.n(o),s=n(569),i=n.n(s),a=n(565),c=n.n(a),l=n(216),d=n.n(l),p=n(589),u=n.n(p),g=n(964),h={};h.styleTagTransform=u(),h.setAttributes=c(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=d(),t()(g.Z,h),g.Z&&g.Z.locals&&g.Z.locals;var m=n(993),f={};f.styleTagTransform=u(),f.setAttributes=c(),f.insert=i().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),t()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;var b=n(175),_={};_.styleTagTransform=u(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=r(),_.insertStyleElement=d(),t()(b.Z,_),b.Z&&b.Z.locals&&b.Z.locals;const v="https://koto.onrender.com",y=new class{post;user;auth;comment;url;imgurUrl;igmurKeyId;imgurKeys;constructor(){this.url=v,this.auth=new class{url;constructor(){this.url=v}async login(e,t){try{const n={username:e,password:t};return(await fetch(`${this.url}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(e){throw new Error}}async signUp(e,t){try{const n={username:e,password:t};return(await fetch(`${this.url}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(e){throw new Error}}async checkSession(e){try{return(await fetch(`${this.url}/user/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}async logout(e){try{const t=await fetch(`${this.url}/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return void await t.text()}catch(e){throw console.error(`An error occurred while logging out: ${e}`),new Error}}},this.user=new class{url;constructor(){this.url=v}async getAll(){try{return(await fetch(`${this.url}/users`)).json()}catch(e){throw new Error}}async get(e){try{const t={id:e};return(await fetch(`${this.url}/user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}async delete(e,t){try{const n={sessionId:t},o=await fetch(`${this.url}/user/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});return void await o.text()}catch(e){throw new Error}}async changeUsernamePassword(e,t){try{return(await fetch(`${this.url}/user/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}async changeSettings(e,t){try{return await fetch(`${this.url}/user/settings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),!0}catch(e){return!1}}async subscribe(e){try{return(await fetch(`${this.url}/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}async getSubscriptions(e){try{return(await fetch(`${this.url}/subscriptions/${e}`)).json()}catch(e){throw new Error}}async getFollowers(e){try{return(await fetch(`${this.url}/followers/${e}`)).json()}catch(e){throw new Error}}async getList(e){try{return(await fetch(`${this.url}/userlist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}async getUserlistById(e){try{return(await fetch(`${this.url}/userlistid`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}},this.post=new class{url;constructor(){this.url=v}async getAll(){try{return(await fetch(`${this.url}/post`)).json()}catch(e){throw new Error}}async get(e){try{return(await fetch(`${this.url}/post/${e}`)).json()}catch(e){throw new Error}}async getUserPosts(e){try{return(await fetch(`${this.url}/userposts/${e}`)).json()}catch(e){throw new Error}}async create(e){try{return(await fetch(`${this.url}/post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}async delete(e,t){try{const n={sessionId:t};return await fetch(`${this.url}/post/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),!0}catch(e){return!1}}async like(e,t){try{const n={sessionId:t};return(await fetch(`${this.url}/like/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(e){throw new Error}}async feed(e){try{const t=await fetch(`${this.url}/feed`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return 200===t.status?t.json():[]}catch(e){throw new Error}}async recommendationFeed(e){try{return(await fetch(`${this.url}/recomendation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){throw new Error}}async addFavorites(e,t){const n={sessionId:t,postId:e};try{return(await fetch(`${this.url}/favorites/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(e){throw new Error}}async getFavorites(e){try{return(await fetch(`${this.url}/favorites/${e}`,{method:"GET"})).json()}catch(e){throw new Error}}},this.comment=new class{url;constructor(){this.url=v}async add(e,t){try{return(await fetch(`${this.url}/comment/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}async delete(e,t){try{return(await fetch(`${this.url}/comment/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}async like(e,t){try{return(await fetch(`${this.url}/post/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}},this.imgurUrl="https://api.imgur.com/3/image",this.imgurKeys=["63dda69691a368b","60d6ea73ead50dd","a477503a6a7e455"],this.igmurKeyId=0}async getFullData(){try{return(await fetch(`${this.url}`)).json()}catch(e){throw new Error}}async search(e){try{const t={query:e};return(await fetch(`${this.url}/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}catch(e){throw new Error}}async uploadPhoto(e){const t=new Headers;t.append("Authorization",`Client-ID ${this.imgurKeys[this.igmurKeyId]}`);const n=new FormData;n.append("image",e[0]);const o={method:"POST",headers:t,body:n,redirect:"follow",referrer:""};try{const e=await fetch(this.imgurUrl,o);return await e.json()}catch(e){throw this.igmurKeyId>1?this.igmurKeyId=0:this.igmurKeyId+=1,new Error}}},w='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.005 15.545C8.005 14.7501 8.32075 13.9878 8.8828 13.4258C9.44485 12.8638 10.2071 12.548 11.002 12.548C11.3957 12.5479 11.7855 12.6253 12.1492 12.7758C12.5129 12.9264 12.8434 13.1471 13.1218 13.4254C13.4002 13.7038 13.6211 14.0342 13.7718 14.3979C13.9224 14.7615 14 15.1513 14 15.545V21H21V10.543L11 1L1 10.543V21H8.005V15.545Z" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"/>\n    </svg>',x='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M19 10.5C19 12.1811 18.5015 13.8245 17.5675 15.2223C16.6335 16.6202 15.306 17.7096 13.7528 18.353C12.1996 18.9963 10.4906 19.1647 8.84174 18.8367C7.1929 18.5087 5.67834 17.6992 4.4896 16.5104C3.30085 15.3217 2.4913 13.8071 2.16333 12.1583C1.83535 10.5094 2.00368 8.80036 2.64703 7.24719C3.29037 5.69402 4.37984 4.3665 5.77766 3.43251C7.17547 2.49852 8.81886 2 10.5 2C12.7543 2 14.9164 2.89553 16.5104 4.48959C18.1045 6.08365 19 8.24566 19 10.5Z" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M16.511 16.511L22 22" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>',k='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_1_43)">\n    <path d="M12 20.635C16.769 20.635 20.635 16.769 20.635 12C20.635 7.23102 16.769 3.365 12 3.365C7.23103 3.365 3.36501 7.23102 3.36501 12C3.36501 16.769 7.23103 20.635 12 20.635Z" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M14.232 3.656C14.0604 3.60803 13.9009 3.52447 13.7637 3.41075C13.6266 3.29704 13.5149 3.15572 13.436 2.996L12.93 2H11.07L10.565 2.996C10.4861 3.15572 10.3744 3.29704 10.2373 3.41075C10.1001 3.52447 9.94058 3.60803 9.769 3.656M9.768 20.344C9.93958 20.392 10.0991 20.4755 10.2363 20.5892C10.3734 20.703 10.4851 20.8443 10.564 21.004L11.069 22H12.931L13.436 21.004C13.5149 20.8443 13.6266 20.703 13.7637 20.5892C13.9009 20.4755 14.0604 20.392 14.232 20.344M3.656 9.768C3.60803 9.93958 3.52447 10.0991 3.41075 10.2363C3.29704 10.3734 3.15572 10.4851 2.996 10.564L2 11.07V12.932L2.996 13.437C3.15572 13.5159 3.29704 13.6276 3.41075 13.7647C3.52447 13.9019 3.60803 14.0614 3.656 14.233M20.344 14.232C20.392 14.0604 20.4755 13.9009 20.5892 13.7637C20.703 13.6266 20.8443 13.5149 21.004 13.436L22 12.93V11.07L21.004 10.565C20.8443 10.4861 20.703 10.3744 20.5892 10.2373C20.4755 10.1001 20.392 9.94058 20.344 9.769M7.678 4.522C7.52269 4.60944 7.35069 4.66318 7.17323 4.67972C6.99576 4.69626 6.8168 4.67523 6.648 4.618L5.588 4.27L4.27 5.587L4.618 6.649C4.67523 6.8178 4.69626 6.99676 4.67972 7.17423C4.66318 7.35169 4.60944 7.52369 4.522 7.679M16.322 19.478C16.4773 19.3906 16.6493 19.3368 16.8268 19.3203C17.0042 19.3037 17.1832 19.3248 17.352 19.382L18.412 19.73L19.73 18.413L19.382 17.351C19.3248 17.1822 19.3037 17.0032 19.3203 16.8258C19.3368 16.6483 19.3906 16.4763 19.478 16.321M4.522 16.322C4.60944 16.4773 4.66318 16.6493 4.67972 16.8268C4.69626 17.0042 4.67523 17.1832 4.618 17.352L4.27 18.412L5.587 19.73L6.649 19.382C6.8178 19.3248 6.99676 19.3037 7.17423 19.3203C7.35169 19.3368 7.52369 19.3906 7.679 19.478M19.478 7.678C19.3906 7.52269 19.3368 7.35069 19.3203 7.17323C19.3037 6.99576 19.3248 6.8168 19.382 6.648L19.73 5.588L18.413 4.27L17.351 4.618C17.1822 4.67523 17.0032 4.69626 16.8258 4.67972C16.6483 4.66318 16.4763 4.60944 16.321 4.522" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"/>\n    </g>\n    <defs>\n    <clipPath id="clip0_1_43">\n    <rect width="24" height="24" fill="#f9fdfe"/>\n    </clipPath>\n    </defs>\n    </svg>',S='\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M2 12V15.45C2 18.299 2.698 19.455 3.606 20.394C4.546 21.303 5.704 22.002 8.552 22.002H15.448C18.296 22.002 19.454 21.302 20.394 20.394C21.302 19.455 22 18.3 22 15.45V8.552C22 5.703 21.302 4.546 20.394 3.607C19.454 2.7 18.296 2 15.448 2H8.552C5.704 2 4.546 2.699 3.606 3.607C2.698 4.547 2 5.703 2 8.552V12Z" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M6.54501 12.001H17.455" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M12.003 6.545V17.455" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>',C='\n    <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M16.792 2.904C18.1064 2.97667 19.3389 3.56591 20.2207 4.54331C21.1026 5.52071 21.5624 6.80705 21.5 8.122C21.5 11.194 18.848 13.081 16.303 15.344C13.791 17.587 12.438 18.813 12 19.096C11.523 18.787 9.85698 17.273 7.69698 15.344C5.14098 13.072 2.49998 11.167 2.49998 8.122C2.43755 6.80705 2.89737 5.52071 3.77924 4.54331C4.66111 3.56591 5.89355 2.97667 7.20798 2.904C7.93613 2.88193 8.65754 3.04919 9.30169 3.3894C9.94585 3.72962 10.4907 4.23117 10.883 4.845C11.723 6.02 11.863 6.608 12.003 6.608C12.143 6.608 12.281 6.02 13.113 4.842C13.503 4.22533 14.0481 3.7218 14.6937 3.38172C15.3393 3.04164 16.0628 2.87691 16.792 2.904ZM16.792 0.904003C15.8839 0.87493 14.981 1.05109 14.1504 1.41935C13.3199 1.78762 12.5831 2.33851 11.995 3.031C11.4074 2.34053 10.6721 1.79091 9.84353 1.42276C9.01496 1.0546 8.11427 0.877316 7.20798 0.904003C5.36285 0.976155 3.62136 1.77599 2.36432 3.1286C1.10728 4.48121 0.436977 6.27654 0.499982 8.122C0.499982 11.732 3.04998 13.949 5.51498 16.092C5.79798 16.338 6.08398 16.586 6.36798 16.839L7.39498 17.757C8.51502 18.8228 9.68925 19.8301 10.913 20.775C11.2368 20.9846 11.6143 21.0962 12 21.0962C12.3857 21.0962 12.7632 20.9846 13.087 20.775C14.3497 19.8013 15.56 18.7615 16.713 17.66L17.635 16.836C17.928 16.576 18.225 16.317 18.52 16.062C20.854 14.037 23.5 11.742 23.5 8.122C23.563 6.27654 22.8927 4.48121 21.6356 3.1286C20.3786 1.77599 18.6371 0.976155 16.792 0.904003Z" fill="#f9fdfe"/>\n    </svg>',L='\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M13.941 13.953L7.581 16.424L10.06 10.056L16.42 7.585L13.941 13.953Z" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M10.06 10.056L13.949 13.945L7.581 16.424L10.06 10.056Z" fill="#f9fdfe"/>\n        <path d="M12.001 22.505C17.8 22.505 22.501 17.804 22.501 12.005C22.501 6.20602 17.8 1.505 12.001 1.505C6.20201 1.505 1.501 6.20602 1.501 12.005C1.501 17.804 6.20201 22.505 12.001 22.505Z" stroke="#f9fdfe" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>',P='\n    <svg style="\n    width: 24px;\n    height: 24px;\n" xmlns="http://www.w3.org/2000/svg" class="delete_svg" width="16" height="16" fill="#f9fdfe" class="bi bi-trash" viewBox="0 0 16 16"> \n    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/> \n    <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/> </svg>';var I={};!function e(t,n,o,r){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function i(){}function a(e){var o=n.exports.Promise,r=void 0!==o?o:t.Promise;return"function"==typeof r?new r(e):(e(i,i),null)}var c,l,d,p,u,g,h,m,f,b=(d=Math.floor(1e3/60),p={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return p[t]=requestAnimationFrame((function n(o){u===o||u+d-1<o?(u=o,delete p[t],e()):p[t]=requestAnimationFrame(n)})),t},l=function(e){p[e]&&cancelAnimationFrame(p[e])}):(c=function(e){return setTimeout(e,d)},l=function(e){return clearTimeout(e)}),{frame:c,cancel:l}),_=(m={},function(){if(g)return g;if(!o&&s){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{g=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(n,o,r){if(h)return t(n,null),h;var s=Math.random().toString(36).slice(2);return h=a((function(o){function i(t){t.data.callback===s&&(delete m[s],e.removeEventListener("message",i),h=null,r(),o())}e.addEventListener("message",i),t(n,s),m[s]=i.bind(null,{data:{callback:s}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),m)m[t](),delete m[t]}}(g)}return g}),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:v[t],n)}function w(e){return e<0?0:Math.floor(e)}function x(e){return parseInt(e,16)}function k(e){return e.map(S)}function S(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:x(t.substring(0,2)),g:x(t.substring(2,4)),b:x(t.substring(4,6))}}function C(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function L(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function P(e,n){var i,c=!e,l=!!y(n||{},"resize"),d=y(n,"disableForReducedMotion",Boolean),p=s&&y(n||{},"useWorker")?_():null,u=c?C:L,g=!(!e||!p||!e.__confetti_initialized),h="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(t,n,s){for(var c,l,d,p,g=y(t,"particleCount",w),h=y(t,"angle",Number),m=y(t,"spread",Number),f=y(t,"startVelocity",Number),_=y(t,"decay",Number),v=y(t,"gravity",Number),x=y(t,"drift",Number),S=y(t,"colors",k),C=y(t,"ticks",Number),L=y(t,"shapes"),P=y(t,"scalar"),I=function(e){var t=y(e,"origin",Object);return t.x=y(t,"x",Number),t.y=y(t,"y",Number),t}(t),T=g,E=[],q=e.width*I.x,$=e.height*I.y;T--;)E.push((void 0,void 0,l=(c={x:q,y:$,angle:h,spread:m,startVelocity:f,color:S[T%S.length],shape:L[(0,p=L.length,Math.floor(Math.random()*(p-0))+0)],ticks:C,decay:_,gravity:v,drift:x,scalar:P}).angle*(Math.PI/180),d=c.spread*(Math.PI/180),{x:c.x,y:c.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*c.startVelocity+Math.random()*c.startVelocity,angle2D:-l+(.5*d-Math.random()*d),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*c.gravity,ovalScalar:.6,scalar:c.scalar}));return i?i.addFettis(E):(i=function(e,t,n,s,i){var c,l,d=t.slice(),p=e.getContext("2d"),u=a((function(t){function a(){c=l=null,p.clearRect(0,0,s.width,s.height),i(),t()}c=b.frame((function t(){!o||s.width===r.width&&s.height===r.height||(s.width=e.width=r.width,s.height=e.height=r.height),s.width||s.height||(n(e),s.width=e.width,s.height=e.height),p.clearRect(0,0,s.width,s.height),d=d.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=t.wobbleSpeed,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,o=t.x+t.random*t.tiltCos,r=t.y+t.random*t.tiltSin,s=t.wobbleX+t.random*t.tiltCos,i=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(s-o)*t.ovalScalar,Math.abs(i-r)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,o,r,s,i,a,c){e.save(),e.translate(t,n),e.rotate(s),e.scale(o,r),e.arc(0,0,1,0,a,void 0),e.restore()}(e,t.x,t.y,Math.abs(s-o)*t.ovalScalar,Math.abs(i-r)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var a=Math.PI/2*3,c=4*t.scalar,l=8*t.scalar,d=t.x,p=t.y,u=5,g=Math.PI/u;u--;)d=t.x+Math.cos(a)*l,p=t.y+Math.sin(a)*l,e.lineTo(d,p),a+=g,d=t.x+Math.cos(a)*c,p=t.y+Math.sin(a)*c,e.lineTo(d,p),a+=g;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(r)),e.lineTo(Math.floor(s),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(p,e)})),d.length?c=b.frame(t):a()})),l=a}));return{addFettis:function(e){return d=d.concat(e),u},canvas:e,promise:u,reset:function(){c&&b.cancel(c),l&&l()}}}(e,E,u,n,s)).promise}function f(n){var o=d||y(n,"disableForReducedMotion",Boolean),r=y(n,"zIndex",Number);if(o&&h)return a((function(e){e()}));c&&i?e=i.canvas:c&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(r),document.body.appendChild(e)),l&&!g&&u(e);var s={width:e.width,height:e.height};function f(){if(p){var t={getBoundingClientRect:function(){if(!c)return e.getBoundingClientRect()}};return u(t),void p.postMessage({resize:{width:t.width,height:t.height}})}s.width=s.height=null}function b(){i=null,l&&t.removeEventListener("resize",f),c&&e&&(document.body.removeChild(e),e=null,g=!1)}return p&&!g&&p.init(e),g=!0,p&&(e.__confetti_initialized=!0),l&&t.addEventListener("resize",f,!1),p?p.fire(n,s,b):m(n,s,b)}return f.reset=function(){p&&p.reset(),i&&i.reset()},f}function I(){return f||(f=P(null,{useWorker:!0,resize:!0})),f}n.exports=function(){return I().apply(this,arguments)},n.exports.reset=function(){I().reset()},n.exports.create=P}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),I,!1);const T=I.exports;async function E(){try{return await y.auth.checkSession({id:+localStorage.userId,sessionId:localStorage.sessionId}),!0}catch{return!1}}function q(e){const t=[...e];for(let e=0;e<t.length;e+=1)t[e].value=""}function $(){document.querySelector("html").classList.remove("overflow_hidden")}I.exports.create;class M{static newLogin;static newPassword;static oldLogin;static async validateNewLogin(){const e=document.querySelector(".settings__input_login"),t=document.querySelector(".settings__error"),n=document.querySelector(".settings__submitCredentials"),o=(await y.user.getAll()).map((e=>e.username)),r=/^[a-zA-Z0-9]{5,22}$/,s=localStorage.getItem("userId"),i=(await y.user.get(+s)).username;M.oldLogin=i,e.addEventListener("input",(()=>{const s=r.test(e.value);o.includes(e.value)&&(t.innerText="Username is already taken.",t.style.display="block",n.disabled=!0),s||(t.innerText="Invalid login",t.style.display="block",n.disabled=!0),""===e.value&&M.newPassword&&(n.disabled=!1,t.style.display="none"),e.value!==i&&s&&!o.includes(e.value)&&(t.style.display="none",n.disabled=!1,M.newLogin=e.value),"invalid"===M.newPassword&&M.newLogin&&(n.disabled=!0)}))}static async validateNewPassword(){const e=document.querySelector(".settings__input_password"),t=/^[a-zA-Z0-9!@#$%^&*()+=-]{5,22}$/,n=document.querySelector(".settings__submitCredentials"),o=document.querySelector(".settings__error_password"),r=document.querySelector(".settings__input_login");e.addEventListener("input",(()=>{const s=t.test(e.value);s||(n.disabled=!0,o.style.display="block",o.innerText="Invalid password",M.newPassword="invalid"),""===e.value&&M.newLogin&&(n.disabled=!1,o.style.display="none"),""===e.value&&""===r.value&&(n.disabled=!0),s&&(M.newPassword=e.value.trim(),n.disabled=!1,o.style.display="none")}))}static async changeUserCredentials(e,t){await E()&&(M.validateNewLogin(),M.validateNewPassword());const n=document.querySelector(".settings__submitCredentials"),o=document.querySelector(".settings__form-credentials"),r=document.querySelector(".settings__error_submit");n.addEventListener("click",(async s=>{s.preventDefault();try{M.newLogin&&!M.newPassword?(await y.user.changeUsernamePassword(+t,{sessionId:e,username:M.newLogin}),window.history.pushState({},"",`/${M.newLogin}`)):M.newLogin&&M.newPassword?(await y.user.changeUsernamePassword(+t,{sessionId:e,password:M.newPassword,username:M.newLogin}),window.history.pushState({},"",`/${M.newLogin}`)):!M.newLogin&&M.newPassword&&(await y.user.changeUsernamePassword(+t,{sessionId:e,password:M.newPassword}),window.history.pushState({},"",`/${M.oldLogin}`)),document.querySelector(".user")?.remove(),ze.handleLocation(),T({particleCount:400,startVelocity:90,spread:360}),o.reset(),n.disabled=!0}catch(e){throw r.textContent="Error occured",new Error}}))}}const j=M;class N{static language;static userName;static description;static changeSettingsLang(e){const t=document.querySelector(".settings__lang"),n=e;t.addEventListener("change",(e=>{e.target.checked?(N.language="uk",localStorage.setItem("lang","uk")):(N.language="en",localStorage.setItem("lang","en")),n.disabled=!1})),"uk"===localStorage.getItem("lang")&&(t.checked=!0)}static changeSettingsName(e){const t=document.querySelector(".settings__input_name"),n=document.querySelector(".settings__error_username"),o=e;t.addEventListener("input",(()=>{/^[a-zA-Z0-9_а-яА-Я\s]{3,20}$/.test(t.value)||""===t.value?(N.userName=t.value,n.innerText="",o.disabled=!1):n.innerText="Invalid username"}))}static changeSettingsDescription(e){const t=document.querySelector(".settings__description"),n=document.querySelector(".settings__error_description"),o=e;t.addEventListener("input",(e=>{const t=e.target.value,r=["fuck","asshole","блять","сука","шлюха","shit","pussy","ass","пидарас","ниггер","конча","нига","nigga","niggas","nigger","хохлы","хохол","жид","хач","cunt"];t.toLowerCase().split(" ").every((e=>!r.includes(e)))?(n.textContent="",N.description=t,o.disabled=!1):n.textContent="Invalid description"}))}static async changeUserInteraction(e,t){const n=document.querySelector(".settings__submitInteraction"),o=document.querySelector(".settings__form-interaction");document.querySelector(".settings__hint_icon"),document.querySelector(".settings__hint"),N.changeSettingsLang(n),N.changeSettingsName(n),N.changeSettingsDescription(n),n.addEventListener("click",(async r=>{r.preventDefault(),await y.user.changeSettings(+t,{sessionId:e,settings:{language:N.language,name:N.userName,descriptionProfile:N.description}}),T({particleCount:400,startVelocity:90,spread:360}),document.querySelector(".user")?.remove(),ze.handleLocation(),n.disabled=!0,o.reset()})),N.settingsLogOut(t,e),N.settingsDeleteAccount(t,e)}static settingsLogOut(e,t){document.querySelector(".settings__logOut").addEventListener("click",(async()=>{await E()&&await y.auth.logout({sessionId:t,id:+e}),localStorage.removeItem("sessionId"),localStorage.removeItem("userId"),ze.handleLocation()}))}static settingsDeleteAccount(e,t){document.querySelector(".settings__deleteAccount").addEventListener("click",(async()=>{await E()&&await y.user.delete(+e,t),localStorage.removeItem("sessionId"),localStorage.removeItem("userId"),window.history.pushState({},"","/login"),ze.handleLocation()}))}}const z=N,A=class{static async generalCredentialsController(){const e=localStorage.getItem("sessionId"),t=localStorage.getItem("userId");j.changeUserCredentials(e,t),z.changeUserInteraction(e,t)}},H=(localStorage.lang,{en:{likes:"Likes",reply:"Reply",AddComment:"Add a comment...",Users:"Users",Posts:"Posts",UserCredentials:"User Credentials",Login:"Login",EnterNewLogin:"Enter new login",Password:"Password",EnterNewPassword:"Enter new passwrd",SaveChanges:"Save changes",UserInteraction:"User Interaction",Language:"Language",Name:"Name",EnterNewName:"Enter New Name",ProfileDecription:"Profile decription",EnterNewDecription:"Enter New Decription",Favorites:"Favorites",GoBack:"Go back",Followers:"Followers",Following:"Following",Step1:"Step 1: Upload your image",DropImageHere:"Drop image here",or:"or",UploadYourImage:"Upload your image",Note:"Note: Please use jpg/png/gif formats.",Step2:"Step 2: Add your description",TypeHere:"Type here...",Step3:"Step 3: Click the button below to create a post",CreatePost:"Create post",DeleteImage:"Delete image",Unsubscribe:"Unsubscribe",Subscribe:"Subscribe"},uk:{likes:"Вподобайки",reply:"Відповісти",AddComment:"Додати коментар...",Users:"Користувачі",Posts:"Публікації",UserCredentials:"Облікові дані користувача",Login:"Увійти",EnterNewLogin:"Введіть новий логін",Password:"Пароль",EnterNewPassword:"Введіть новий пароль",SaveChanges:"Зберегти зміни",UserInteraction:"Взаємодія з користувачем",Language:"Мова",Name:"Ім'я",EnterNewName:"Введіть новий Ім'я",ProfileDecription:"Опис профілю",EnterNewDecription:"Введіть опис",Favorites:"Обрані",GoBack:"Повернутися назад",Followers:"Підписники",Following:"Підписки",Step1:"Крок 1: Завантажити своє зображення",DropImageHere:"Помістіть зображення сюди",or:"або",UploadYourImage:"Завантажте своє зображення",Note:"Примітка: будь ласка, використовуйте формати jpg /png / gif.",Step2:"Крок 2: Додайте свій опис",TypeHere:"Введіть тут...",Step3:"Крок 3: Натисніть кнопку нижче, щоб створити публікацію",CreatePost:"Створити публікацію",DeleteImage:"Видалити зображення",Unsubscribe:"Відписатися",Subscribe:"Підписуватися"},bl:{likes:"Падабайкi",reply:"адказаць",AddComment:"Дадаць каментар...",Users:"Карыстальнікі",Posts:"Паведамленні",UserCredentials:"Уліковыя дадзеныя карыстальніка",Login:"Увайсці",EnterNewLogin:"Увесці новы Лагін",Password:"Пароль",EnterNewPassword:"Увесці новы пароль",SaveChanges:"Захаваць змены",UserInteraction:"Узаемадзеянне з карыстальнікам",Language:"Мова",EnterNewName:"Увядзіце новае імя",Name:"Iмя",ProfileDecription:"Апісанне профілю",EnterNewDecription:"Увядзіце новае апісанне",Favorites:"Выбранае",GoBack:"Вярнуцца назад",Followers:"Падпісчыкі",Following:"Падпіска",Step1:"Крок 1: Загрузіце свой малюнак",DropImageHere:"Змесціце малюнак сюды",or:"ці",UploadYourImage:"Загрузіце свой малюнак",Note:"Заўвага: калі ласка, выкарыстоўвайце фарматы jpg /png / gif.",Step2:"Крок 2: Дадайце сваё апісанне",TypeHere:"Увядзіце тут...",Step3:"Крок 3: Націсніце кнопку ніжэй, каб стварыць павыядамленне",CreatePost:"Стварыць паведамленне",DeleteImage:"Выдаліць малюнак",Unsubscribe:"Адпісацца",Subscribe:"Падпісацца"},pl:{likes:"Polubienia",reply:"Odpowiedzieć",AddComment:"Dodaj komientarz...",Users:"Użytkownicy",Posts:"Posty",UserCredentials:"Poświadczenia użytkownika",Login:"Login",EnterNewLogin:"Wprowadź nowy login",Password:"Hasło",EnterNewPassword:"Wprowadź nowe hasło",SaveChanges:"Zapisz zmiany",UserInteraction:"Interakcja użytkownika",Language:"Język",Name:"Imię",EnterNewName:"Wprowadź nowe imię",ProfileDecription:"Opis profilu",EnterNewDecription:"Wprowadź nowy opis",Favorites:"Ulubione",GoBack:"Wróć",Followers:"Obserwujący",Following:"Obserwowany",Step1:"Krok 1: Przesuń swój obraz",DropImageHere:"Upuść obraz tutaj",or:"lub",UploadYourImage:"Prześlij swój obraz",Note:"Uwaga: użyj jpg/png/gif formaty.",Step2:"Krok 2: Dodaj swój Opis",TypeHere:"Wpisz tutaj...",Step3:"Krok 3: Kliknij przycisk poniżej, aby utworzyć post",CreatePost:"Utwórz post",DeleteImage:"Usuń obraz",Unsubscribe:"Przestań obserwować",Subscribe:"Obserwuj"}});var U=n(727),Z={};Z.styleTagTransform=u(),Z.setAttributes=c(),Z.insert=i().bind(null,"head"),Z.domAPI=r(),Z.insertStyleElement=d(),t()(U.Z,Z),U.Z&&U.Z.locals&&U.Z.locals;const O=class{static renderSettings(){const e=H[localStorage.lang];return`\n        <img class="settings__icon" src="/img/icons/settings-icon.png"/>\n        <form class="settings__form-credentials">\n           <div class="settings__credentials">\n              <h2 class="settings__subtitle">${e.UserCredentials}</h2>\n              <label class="settings__label">\n              ${e.Login}:<input type="text" name="login" class="settings__input settings__input_login" placeholder="${e.EnterNewLogin}">\n              <span class="settings__error"></span>\n              </label>\n              <label class="settings__label">\n              ${e.Password}:<input type="password" name="password" class="settings__input settings__input_password" placeholder="${e.EnterNewPassword}">\n              <span class="settings__error_password"></span>\n              </label>\n           </div>\n           <button type="submit" class="settings__submitCredentials open__post-btn" disabled>\n              <div class="text_button">${e.SaveChanges}</div>\n           </button>\n        </form>\n        <div class="settings__interaction">\n           <h2 class="settings__subtitle">${e.UserInteraction}</h2>\n           <div class="settings__lang-block">\n              <h3 class="settings__block-title">${e.Language}:</h3>\n              <input type="checkbox" class="settings__lang">\n           </div>\n           <form class="settings__form-interaction">\n              <div class="settings__name-block">\n                 <label class="settings__label">\n                 ${e.Name}:<input type="name" name="name" class="settings__input settings__input_name" maxlength="22" placeholder="${e.EnterNewName}">\n                 <span class="settings__error_username"></span>\n                 </label>\n              </div>\n              <div class="settings__decription-block">\n                 <h3 class="settings__block-title">${e.ProfileDecription}:</h3>\n                 <textarea class="settings__description" name="description" maxlength="150" placeholder="${e.EnterNewDecription}"></textarea>\n                 <span class="settings__error_description"></span>\n              </div>\n        </div>\n        <div class="settings__btns">\n        <button type="submit" class="settings__submitInteraction open__post-btn" disabled>\n        <div class="text_button">${e.SaveChanges}</div>\n        </button>\n        <span class="settings__error_submit"></span>\n\n        <button type="button" class="settings__logOut open__post-btn">\n        <div class="text_button">Log out</div>\n        </button>\n\n        <img class="settings__deleteAccount" src="/img/icons/delete-account.png" alt="delete-account" />\n\n        </div>\n       \n        </form>\n        `}},D=class{static structure(){const e=H[localStorage.lang];return`\n            <div class="search_popup_block">\n                <input type="search" class="search_input">\n                <div class="search_nav">\n                    <button class="search_open_users"><div class="text_button">${e.Users}</div></button>\n                    <button class="search_open_posts"><div class="text_button">${e.Posts}</div></button>\n                </div>\n                <div class="search_results">\n                    <div class="search_results_users"></div>\n                    <div class="search_results_posts"></div>\n                </div>\n            </div>\n        `}static searchUserItem(e){return`\n            <a href="/${e.username}" class="search_user route">\n                <img src="${e.settings.photo}" class="search_user_image">\n                <span>${e.username}</span>\n            </a>\n        `}static searchPostItem(e){return`\n            <a class="search_post route" href="/p/${e.id}">\n                <img src="${e.image}" class="search_post_image">\n                <div>${e.description}</div>\n            </a>\n        `}};var F=n(728),V={};V.styleTagTransform=u(),V.setAttributes=c(),V.insert=i().bind(null,"head"),V.domAPI=r(),V.insertStyleElement=d(),t()(F.Z,V),F.Z&&F.Z.locals&&F.Z.locals;var B=n(843),R={};R.styleTagTransform=u(),R.setAttributes=c(),R.insert=i().bind(null,"head"),R.domAPI=r(),R.insertStyleElement=d(),t()(B.Z,R),B.Z&&B.Z.locals&&B.Z.locals;const J=class{static add(){return'<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'}static addGlobal(){return'\n        <div class="global_loader">\n            <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n        </div>'}static removeGlobal(){document.querySelector(".global_loader")?.remove()}static center(){document.querySelectorAll(".lds-ring").forEach((e=>{e.parentElement?.classList.add("flex_center")}))}static remove(e){const t=e.querySelector("lds-ring");t&&(t.parentElement?.classList.remove("flex_center"),t.remove())}},W=new class{popupActive;popup;constructor(){this.popupActive="search_active",this.popup="search_popup_block"}async renderPopup(){const e=document.querySelector("body");document.querySelector(`.${this.popup}`)||(e.innerHTML+=D.structure())}openPopUp(){document.querySelector(".search_popup_block").classList.toggle(this.popupActive);const e=document.querySelector(`.${this.popupActive}`);document.querySelector("html").style.overflow=e?"hidden":"",this.setListeners()}renderResult(e){if(!document.querySelector(`.${this.popupActive}`))return;const t=e.users.map((e=>D.searchUserItem(e))),n=e.posts.map((e=>D.searchPostItem(e))),o=document.querySelector(".search_results_users");document.querySelector(".search_results_posts").innerHTML=n.join(""),o.innerHTML=t.join("")}setListeners(){const e=document.querySelector(".search_input");e.addEventListener("input",(async t=>{const n=document.querySelector(".search_results_users"),o=document.querySelector(".search_results_posts");n.innerHTML=J.add(),o.innerHTML=J.add();const r=await y.search(t.target.value);""!==e.value?this.renderResult(r):this.renderResult({posts:[],users:[]})}))}setBodyListeners(){const e=document.querySelector("body"),t=document.querySelector(".search_input");this.setListeners(),e.addEventListener("click",(e=>{const n=e.target.closest(".search_popup_block"),o=e.target.closest(".search-btn"),r=e.target.closest(".search_open_users"),s=e.target.closest(".search_open_posts"),i=document.querySelector(".search_results");document.querySelector(`.${this.popupActive}`)&&!n?(t.value="",this.renderResult({posts:[],users:[]}),i.classList.remove("posts_active"),this.openPopUp()):o?this.openPopUp():r?i.classList.remove("posts_active"):s&&i.classList.add("posts_active")}))}};class K{static async renderHeaderContainer(){let e="";e='\n        <a class="logo-header_container route" href="/feed"><img class="logo-header" src="/img/logo-mini.png" alt="">\n            <p class="text-logo">Kotogram</p>\n        </a> \n        <div class="header-bar_container">\n            <input class="theme" type="checkbox">\n        </div>\n        ',document.querySelector("header").innerHTML='\n        <a class="logo-header_container route" href="/feed"><img class="logo-header" src="/img/logo-mini.png" alt="">\n            <p class="text-logo">Kotogram</p>\n        </a> \n        <div class="header-bar_container">\n            <input class="theme" type="checkbox">\n        </div>\n        ',void 0!==localStorage.sessionId?await K.renderHeaderAfterLogin():await K.renderHeaderBeforeLogin()}static async renderHeaderAfterLogin(){const e=Number(localStorage.getItem("userId")),t=await y.user.get(e),n=document.querySelector(".header-bar_container");let o="checked";"dark"===localStorage.theme&&(o="");let r="";r=`\n        <a class="route create_post-btn" href="/add">${S}</a>\n        <button class="likes-btn">${C}</button>\n        <a class="profile-btn route" href="/${t.username}"></a>\n        <input class="theme" type="checkbox" ${o}>\n            `,n.innerHTML=r,document.querySelector(".profile-btn").innerHTML=`<img src="${t.settings.photo}" alt="" class="mini_img">`,document.querySelector("aside")?.remove(),this.renderNavBar()}static async renderHeaderBeforeLogin(){let e="";e='\n        <a class="profile-btnBefore route" href="/login">Login</a>\n        <input class="theme" type="checkbox">\n            ',document.querySelector(".header-bar_container").innerHTML='\n        <a class="profile-btnBefore route" href="/login">Login</a>\n        <input class="theme" type="checkbox">\n            ',document.querySelector("aside")?.remove(),this.renderNavBar()}static renderNavBar(){const e=document.querySelector("body"),t=document.createElement("aside");t.className="nav-bar_container";let n="";n=`\n        <a href="/feed" class="home-btn route">${w}</a>\n        <a href="/recommendation" class="recomendation-btn route">${L}</a>\n        <button class="search-btn">${x}</button>\n        <button class="setting-btn">${k}</button>\n        `,t.innerHTML=n,e.append(t);const o=t.querySelector(".search-btn"),r=t.querySelector(".setting-btn");void 0===localStorage.sessionId&&(o.disabled=!1,r.disabled=!0),this.renderSettingPopup(),this.openSetting(),setTimeout((async()=>{await W.renderPopup()}),500)}static renderSettingPopup(){const e=document.querySelector("body"),t=document.createElement("div");t.className="setting_popup",document.querySelector(".setting_popup")||(e.append(t),t.innerHTML+=O.renderSettings(),A.generalCredentialsController())}static openSetting(){const e=document.querySelector(".setting_popup"),t=document.querySelector(".setting-btn"),n=document.querySelector("body");t.onclick=()=>{e.classList.contains("open")?(e.classList.remove("open"),$()):(document.querySelector("html").classList.add("overflow_hidden"),e.classList.add("open"))},n.onclick=n=>{e.contains(n.target)||t.contains(n.target)||(e.classList.remove("open"),$())}}static renderLikedPostsContainer(){const e=document.querySelector("body"),t=document.createElement("div");t.className="liked_container",e.append(t),this.renderLikedImg()}static async renderLikedImg(){const e=document.querySelector(".liked_container"),t=Number(localStorage.getItem("userId")),n=await y.post.getUserPosts(t);(await n.filter((e=>e.likes.length>0))).map((e=>{const t=document.createElement("img");return t.className="liked_img",t.setAttribute("data-id",String(e.id)),t.src=e.image,t})).forEach((t=>{e.appendChild(t)})),e.addEventListener("click",(async t=>{const n=t.target;if("IMG"===n.tagName){const t=Number(n.getAttribute("data-id"));e.remove(),await ze.openPost(t)}}))}}const G=K;var Y=n(504),X={};X.styleTagTransform=u(),X.setAttributes=c(),X.insert=i().bind(null,"head"),X.domAPI=r(),X.insertStyleElement=d(),t()(Y.Z,X),Y.Z&&Y.Z.locals&&Y.Z.locals;const Q=class{static renderAddPost(){const e=H[localStorage.lang];return`\n        <div class="add__block">\n        <div class="add__gradient">\n           <form class="add__form">\n              <p class="add__text">${e.Step1}</p>\n              <div class="drop-zone">\n                 <div class="drop-zone__text-block">\n                    <p class="drop-zone__text">${e.DropImageHere}</p>\n                    <p class="drop-zone__text">${e.or}</p>\n                    <input class="add__img" type="file" id="file" accept=".jpg,.jpeg,.png,.gif"/>\n                    <label for="file" class="add__label">\n                    <span>${e.UploadYourImage}</span>\n                    </label>\n                    <p class="add__note">${e.Note}</p>\n                 </div>\n              </div>\n              <button class="add__delete open__post-btn" type="button">\n                 <div class="text_button">${e.DeleteImage}</div>\n              </button>\n              <p class="add__text">${e.Step2}</p>\n              <div class="add__description-block">\n                 <textarea  class="add__description" name="myText" id="myTextarea" rows="1" placeholder="${e.TypeHere}" maxlength="150"></textarea>\n              </div>\n              <p class="add__text">${e.Step3}</p>\n              <button type="button" class="add__post open__post-btn" disabled>\n                 <div class="text_button">${e.CreatePost}</div>\n              </button>\n           </form>\n        </div>\n     </div> \n        `}static loader(){return'\n        <div class="lds-spinner">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        </div>'}};class ee{static fileList;static image;static description;static dropzoneDisabled=!1;static async setAddPost(){const e=document.querySelector("main");e.innerHTML=Q.renderAddPost();const t=document.querySelector(".add__post"),n=document.querySelector(".add__img"),o=document.querySelector(".add__description"),r=document.querySelector(".add__delete"),s=document.querySelector(".drop-zone__text-block"),i=document.querySelector(".drop-zone");t.style.width="160px",t.style.padding="12px",r.style.display="none",r.style.width="160px",r.style.padding="12px",n.addEventListener("change",(async()=>{i.innerHTML=Q.loader();const e=await y.uploadPhoto(n.files);document.querySelector(".lds-spinner").remove(),ee.image=e.data.link;const o=document.createElement("img");o.classList.add("add__preview"),o.src=ee.image,i.appendChild(o),s.style.display="none",r.style.display="block",t.disabled=!1,ee.dropzoneDisabled=!0,i.removeEventListener("dragover",ee.handleDragOver),i.removeEventListener("drop",ee.handleDrop)})),r.addEventListener("click",(()=>{e.innerHTML="",ze.handleLocation()})),ee.dropzoneDisabled=!1,i.addEventListener("dragover",ee.handleDragOver),i.addEventListener("drop",ee.handleDrop),o.addEventListener("keyup",(()=>{o.style.height="1px",o.style.height=`${o.scrollHeight}px`})),o.addEventListener("input",(()=>{ee.description=o.value})),t.addEventListener("click",(async()=>{try{localStorage.sessionId&&await y.post.create({sessionId:localStorage.sessionId,image:ee.image,description:ee.description||""}),T({particleCount:400,startVelocity:90,spread:360}),setTimeout((()=>{window.history.pushState({},"","/feed"),ze.handleLocation()}),2e3)}catch(e){alert("An error occured, please try again later.")}})),ee.dropzone()}static async handleDrop(e){const t=document.querySelector(".drop-zone"),n=document.querySelector(".drop-zone__text-block"),o=document.querySelector(".add__delete"),r=document.querySelector(".add__post"),s=document.querySelector(".add__form");if(e.preventDefault(),t.classList.remove("dragover"),e.dataTransfer?.files?.length){const i=e.dataTransfer.files[0];if(i.type.startsWith("image/")&&(i.name.endsWith(".jpeg")||i.name.endsWith(".jpg")||i.name.endsWith(".png")||i.name.endsWith(".gif")))try{t.innerHTML=Q.loader();const a=await y.uploadPhoto(e.dataTransfer.files);document.querySelector(".lds-spinner").remove(),ee.image=a.data.link;const c=document.querySelector(".add__preview");c&&c.remove();const l=document.createElement("img");l.classList.add("add__preview"),l.src=URL.createObjectURL(i),t.appendChild(l),r.disabled=!1,n.style.display="none",o.style.display="block",s.setAttribute("data-dirty","true")}catch(e){throw alert("An error occured, please try again later."),new Error}}}static handleDragOver(e){const t=document.querySelector(".drop-zone");e.preventDefault(),t.classList.add("dragover"),ee.image&&t.classList.remove("dragover")}static dropzone(){const e=document.querySelector(".drop-zone");e.addEventListener("dragover",ee.handleDragOver),e.addEventListener("drop",ee.handleDrop),document.querySelectorAll(".add__preview").forEach((e=>{e.addEventListener("dragstart",(e=>{e.preventDefault()}))}))}}const te=ee;class ne{static async renderPost(e){const t=document.querySelector("main"),n=document.createElement("div");n.className="comments_container";const o=await ne.renderPostElement(e);n.innerHTML=o,t.append(n);const r=document.querySelector(".tools");void 0===localStorage.sessionId&&r.remove()}static async renderPostElement(e){const t=await y.user.get(e.author);let n;n=""===t.settings.photo?"https://i.postimg.cc/zBhxtTWj/base.jpg":t.settings.photo;const o=e.date,r=new Date(o).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});let s="#f9fdfe";await E()&&(await y.user.get(Number(localStorage.getItem("userId")))).favorites.includes(e.id)&&(s="darkorange");let i="";await E()&&(await y.user.get(localStorage.userId)).id===e.author&&(i=`<div data-post_id="${e.id}" class="tools_container_item delete_btn" >${P}</div>`);const a=H[localStorage.lang];return`\n        <div class="post_wrapper">\n            <div class="post">\n                <div class="post_info_cotainer">\n                    <div class="post_info_account">\n                        <a class="post_info_account_img route" href="/${t.username}">\n                            <img class="mini-round-img" src="${n}" alt="" />\n                        </a>\n                        <a class="post_info_account_text route" href="/${t.username}">\n                            <p class="nickname">${t.username}</p>\n                        </a>\n                    </div>\n                    <div class="post_info_description">\n                        <p class="post_info_description_text"><a href="/${t.username}" class="route">${t.username}</a> ${e.description}</p>\n                        <div class="comment_container" data-post_id="${e.id}">${await ne.renderBlockWithComment(e)}</div>\n                    </div>\n                    <form onsubmit="event.preventDefault();" data-post_id="${e.id}" class="comment_form_container">\n                <input maxlength="150"\n                data-post_id="${e.id}"\n                autocomplete="off"\n                type="text"\n                name="name"\n                placeholder="${a.AddComment}"\n                size="30" required />\n                <button type="button" class="imput_comment_btn">\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M22 3L9.21802 10.083" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"/>\n                    <path d="M11.698 20.334L22 3.001H2L9.218 10.084L11.698 20.334Z" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"/>\n                    </svg>\n                </button>\n            <form>\n                </div>\n                <div class="post_img_container">\n                <img src=${e.image} alt="" class="post_img" />\n                <p class="post_date">${r}</p>\n                </div>\n            </div>\n            \n        </div>\n        <div class="tools">\n                <div class="tools_container_item like_btn" data-post_id = "${e.id}">\n                    <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                            d="M16.792 2.904C18.1064 2.97667 19.3389 3.56591 20.2207 4.54331C21.1026 5.52071 21.5624 6.80705 21.5 8.122C21.5 11.194 18.848 13.081 16.303 15.344C13.791 17.587 12.438 18.813 12 19.096C11.523 18.787 9.85698 17.273 7.69698 15.344C5.14098 13.072 2.49998 11.167 2.49998 8.122C2.43755 6.80705 2.89737 5.52071 3.77924 4.54331C4.66111 3.56591 5.89355 2.97667 7.20798 2.904C7.93613 2.88193 8.65754 3.04919 9.30169 3.3894C9.94585 3.72962 10.4907 4.23117 10.883 4.845C11.723 6.02 11.863 6.608 12.003 6.608C12.143 6.608 12.281 6.02 13.113 4.842C13.503 4.22533 14.0481 3.7218 14.6937 3.38172C15.3393 3.04164 16.0628 2.87691 16.792 2.904ZM16.792 0.904003C15.8839 0.87493 14.981 1.05109 14.1504 1.41935C13.3199 1.78762 12.5831 2.33851 11.995 3.031C11.4074 2.34053 10.6721 1.79091 9.84353 1.42276C9.01496 1.0546 8.11427 0.877316 7.20798 0.904003C5.36285 0.976155 3.62136 1.77599 2.36432 3.1286C1.10728 4.48121 0.436977 6.27654 0.499982 8.122C0.499982 11.732 3.04998 13.949 5.51498 16.092C5.79798 16.338 6.08398 16.586 6.36798 16.839L7.39498 17.757C8.51502 18.8228 9.68925 19.8301 10.913 20.775C11.2368 20.9846 11.6143 21.0962 12 21.0962C12.3857 21.0962 12.7632 20.9846 13.087 20.775C14.3497 19.8013 15.56 18.7615 16.713 17.66L17.635 16.836C17.928 16.576 18.225 16.317 18.52 16.062C20.854 14.037 23.5 11.742 23.5 8.122C23.563 6.27654 22.8927 4.48121 21.6356 3.1286C20.3786 1.77599 18.6371 0.976155 16.792 0.904003Z"\n                            fill="#f9fdfe"\n                        />\n                    </svg>\n                    <p class="tools_text_likes">${e.likes.length}</p>\n                </div>\n                <div class="tools_container_item favorite_btn" data-post_id = "${e.id}">\n                    <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M17 19L9 11.44L1 19V1H17V19Z" stroke="${s}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                </div>\n                ${i}\n                <div class="tools_container_item comment_btn" data-post_id = "${e.id}">\n                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                            d="M19.656 16.008C20.8711 13.9061 21.2795 11.4337 20.8048 9.05272C20.3301 6.67172 19.0048 4.54497 17.0765 3.06978C15.1482 1.59458 12.7488 0.871855 10.3266 1.0366C7.9043 1.20135 5.62486 2.24231 3.91408 3.96501C2.20329 5.68772 1.17817 7.97432 1.03024 10.3977C0.882302 12.821 1.62166 15.2153 3.1102 17.1334C4.59874 19.0514 6.73463 20.3619 9.11887 20.82C11.5031 21.2782 13.9726 20.8527 16.066 19.623L21 21L19.656 16.008Z"\n                            stroke="#f9fdfe"\n                            stroke-width="2"\n                            stroke-linejoin="round"\n                        />\n                    </svg>\n                    <p class="tools_text_comment">${e.comments.length}</p>\n                </div>\n            </div>\n        `}static async renderBlockWithComment(e){const t=await y.user.getAll();return e.comments.map((n=>{const o=t.find((e=>e.id===n.author));return ne.renderComment(n,e.id,o.username,o.settings.photo)})).join("")}static renderComment(e,t,n,o){const r=e.date,s=new Date(r).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),i=H[localStorage.lang];return`\n            <div class="comment">\n                <div class="post_info_comment">\n                <div class="post_info">\n                    <a class="comment_img route" href="/${n}">\n                        <img src="${o}" alt="" class="comment_mini_img" />\n                    </a>\n                    <div class="comment_text">\n                        <p><a href="/${n}" class="route user-text">${n}</a>      ${e.text}</p>\n                    </div>\n                </div>\n                    <button class="comment_like-btn" data-postID="${t}" data-commentID="${e.id}">\n                    <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path\n                        d="M16.792 2.904C18.1064 2.97667 19.3389 3.56591 20.2207 4.54331C21.1026 5.52071 21.5624 6.80705 21.5 8.122C21.5 11.194 18.848 13.081 16.303 15.344C13.791 17.587 12.438 18.813 12 19.096C11.523 18.787 9.85698 17.273 7.69698 15.344C5.14098 13.072 2.49998 11.167 2.49998 8.122C2.43755 6.80705 2.89737 5.52071 3.77924 4.54331C4.66111 3.56591 5.89355 2.97667 7.20798 2.904C7.93613 2.88193 8.65754 3.04919 9.30169 3.3894C9.94585 3.72962 10.4907 4.23117 10.883 4.845C11.723 6.02 11.863 6.608 12.003 6.608C12.143 6.608 12.281 6.02 13.113 4.842C13.503 4.22533 14.0481 3.7218 14.6937 3.38172C15.3393 3.04164 16.0628 2.87691 16.792 2.904ZM16.792 0.904003C15.8839 0.87493 14.981 1.05109 14.1504 1.41935C13.3199 1.78762 12.5831 2.33851 11.995 3.031C11.4074 2.34053 10.6721 1.79091 9.84353 1.42276C9.01496 1.0546 8.11427 0.877316 7.20798 0.904003C5.36285 0.976155 3.62136 1.77599 2.36432 3.1286C1.10728 4.48121 0.436977 6.27654 0.499982 8.122C0.499982 11.732 3.04998 13.949 5.51498 16.092C5.79798 16.338 6.08398 16.586 6.36798 16.839L7.39498 17.757C8.51502 18.8228 9.68925 19.8301 10.913 20.775C11.2368 20.9846 11.6143 21.0962 12 21.0962C12.3857 21.0962 12.7632 20.9846 13.087 20.775C14.3497 19.8013 15.56 18.7615 16.713 17.66L17.635 16.836C17.928 16.576 18.225 16.317 18.52 16.062C20.854 14.037 23.5 11.742 23.5 8.122C23.563 6.27654 22.8927 4.48121 21.6356 3.1286C20.3786 1.77599 18.6371 0.976155 16.792 0.904003Z"\n                        fill="#f9fdfe"\n                    />\n                </svg>\n                    </button>\n                </div>\n                <div class="comment_tools">\n                    <p class="comment_tools_time">${s}</p>\n                    <p class="comment_tools_like">${e.likes.length} ${i.likes}</p>\n                    <button class="comment_tools_reply">${i.reply}</button>\n                </div>\n            </div>\n            `}}const oe=ne,re={page:1};class se{static async checkPosition(){document.querySelector("main").innerHTML="",window.addEventListener("scroll",(async()=>{if(-1!==window.location.href.indexOf("/feed")||window.location.href.indexOf("/recommendation")){const e=document.body.offsetHeight,t=window.innerHeight;window.scrollY+t>=e-t/4&&(re.page+=1,await this.renderFeeds(re.page))}}))}static async renderFeeds(e){const t={sessionId:localStorage.getItem("sessionId"),limit:10,page:e};if(-1!==window.location.href.indexOf("/feed")){const e=await y.post.feed(t);0===e.length&&(document.querySelector("main").innerHTML="\n                <div>here is no posts yet</div>\n                "),this.renderPosts(e)}if(-1!==window.location.href.indexOf("/recommendation")){const e=await y.post.recommendationFeed(t);this.renderPosts(e)}}static async renderPosts(e){0!==e.length&&e.forEach((async e=>{await oe.renderPost(e)}))}static async likeDislikePost(e){const t=localStorage.getItem("sessionId"),n=e.target.closest(".like_btn");if(n){const e=n.dataset.post_id;if(e){const o=Number(e);if(!Number.isNaN(o)){const e=y.post.like(o,t);n.querySelector(".tools_text_likes").innerText=String((await e).likes.length)}}}}static async comment(e){const t=localStorage.getItem("sessionId"),n=e.target.closest(".imput_comment_btn");if(!n)return;const o=n.previousSibling?.previousSibling;if(!o||!o.dataset.post_id)return;const r=Number(o.dataset.post_id),s={sessionId:t,text:o.value};if(!Number.isNaN(r))try{if(!await E())return;n.innerHTML=J.add();const e=await y.comment.add(r,s),t=n.closest(".post_info_cotainer").querySelector(".comment_container"),i=n.closest(".comments_container").querySelector(".tools_text_comment"),a=await y.user.get(Number(localStorage.userId));let c;c=""===a.settings.photo?"https://i.postimg.cc/zBhxtTWj/base.jpg":a.settings.photo,t.innerHTML+=oe.renderComment(e.comments[e.comments.length-1],r,a.username,c),i.innerHTML=String(e.comments.length),o.value="",setTimeout((()=>{n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M22 3L9.21802 10.083" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"></path>\n                <path d="M11.698 20.334L22 3.001H2L9.218 10.084L11.698 20.334Z" stroke="#f9fdfe" stroke-width="2" stroke-linejoin="round"></path>\n                </svg>'}),500)}catch(e){console.error(e)}}static activeInput(){document.querySelector("main").addEventListener("click",(e=>{const t=e.target.closest(".comment_btn");if(t){const e=t.parentNode;if(e){const t=e.previousSibling?.previousSibling;t&&t.querySelector("input").focus()}}}))}static reply(){document.querySelector("main").addEventListener("click",(e=>{const t=e.target.closest(".comment_tools_reply");if(t){const e=t.parentNode;if(e){const t=e.previousSibling?.previousSibling,n=t.querySelector(".user-text")?.innerHTML,o=t.parentNode?.parentNode?.parentNode?.parentElement;o.querySelector("input").value=`${n}, `}}}))}static likesToComment(){const e=localStorage.getItem("sessionId");document.querySelector("main").addEventListener("click",(async t=>{if(void 0===localStorage.sessionId)return;const n=t.target.closest(".comment_like-btn");if(!n)return;const o=n.dataset.postid;if(!o)return;const r=Number(o);if(Number.isNaN(r))return;const s=n.dataset.commentid,i=Number(s);if(Number.isNaN(i))return;const a={sessionId:e,commentId:i},c=await y.comment.like(r,a),l=n.closest(".comment").querySelector(".comment_tools_like"),d=c.comments.find((e=>e.id===i));if(!d)return;const{length:p}=d.likes;l.innerHTML=`${p} Likes`}))}static async favorite(e){const t=localStorage.getItem("sessionId"),n=e.target.closest(".favorite_btn");if(n){const e=n.dataset.post_id;if(e){const o=Number(e);if(!Number.isNaN(o)){await y.post.addFavorites(o,t);const e=n.querySelector("path");"darkorange"===e.getAttribute("stroke")?e.setAttribute("stroke","white"):e.setAttribute("stroke","darkorange")}}}}static async delPost(e){const t=localStorage.getItem("sessionId"),n=e.target,o=n.closest(".delete_btn"),r=n.closest(".comments_container");if(o){const e=o.dataset.post_id;if(e){const n=Number(e);if(!Number.isNaN(n)){document.createElement("div").classList.add("popup");const e='\n                            <div class="popup">\n                            <div class="popup_content">\n                                <p>Are you sure you want to delete this post?</p>\n                                <div class="popup_buttons">\n                                <button class="popup_button confirm_button">Yes</button>\n                                <button class="popup_button cancel_button">No</button>\n                                </div>\n                            </div>\n                            </div>\n                        ',o=document.createElement("div");o.innerHTML=e,document.body.appendChild(o);const s=o.querySelector(".confirm_button"),i=o.querySelector(".cancel_button");s.addEventListener("click",(async()=>{!0===await y.post.delete(n,t)&&(-1!==window.location.href.indexOf(`/p/${n}`)?ze.openProfile(localStorage.userId):await r.remove()),o.remove()})),i.addEventListener("click",(()=>{o.remove()}))}}}}}var ie=n(659),ae={};ae.styleTagTransform=u(),ae.setAttributes=c(),ae.insert=i().bind(null,"head"),ae.domAPI=r(),ae.insertStyleElement=d(),t()(ie.Z,ae),ie.Z&&ie.Z.locals&&ie.Z.locals;const ce=class{static async renderPost(e){const t=await y.post.get(e);return`\n        <div class="open__post-settings">\n        <a class="route" href="/${(await y.user.get(t.author)).username}"><button class="open__post-btn"><div class="text_button">Go back</div></button></a>\n        </div>\n        <div class="open__post"></div>\n        `}},le=class{static async setPost(e){const t=await y.post.get(e),n=await y.user.get(t.author),o=document.createElement("div");o.classList.add("open__post-block"),document.querySelector("main")?.append(o),o.innerHTML=await ce.renderPost(e);const r=o.querySelector(".route");"true"===localStorage.getItem("favorites")&&n.id===+localStorage.getItem("userId")?r.href=`/${n.username}/favorites`:"false"===localStorage.getItem("favorites")&&(r.href=`/${n.username}`),document.querySelector(".open__post").innerHTML=await oe.renderPostElement(t)}};var de=n(184),pe={};pe.styleTagTransform=u(),pe.setAttributes=c(),pe.insert=i().bind(null,"head"),pe.domAPI=r(),pe.insertStyleElement=d(),t()(de.Z,pe),de.Z&&de.Z.locals&&de.Z.locals;const ue=class{static renderFavPostImg(e,t){return`\n        <a class="route" href="/p/${e}"><img class="post__img" src=${t} alt="image"/></a>\n        `}},ge=class{static setFavPostsInfo(){const e=document.createElement("div");e.classList.add("post__block"),document.querySelector("main")?.append(e)}static async setFavPosts(e){const t=document.querySelector(".post__block"),n=document.querySelector(".user__post-item_favorites"),o=document.querySelector(".divider__part"),r=document.querySelector(".user__post-item_posts"),s=n.children[1],i=n.children[0],a=r.children[1],c=r.children[0];(await y.post.getFavorites(e)).forEach((async e=>{const n=ue.renderFavPostImg(e.id,e.image);t?.insertAdjacentHTML("beforeend",n)})),s.classList.add("active"),i.classList.add("active_icon"),o.style.marginLeft="24.5%",a.classList.remove("active"),c.classList.remove("active_icon")}};var he=n(39),me={};me.styleTagTransform=u(),me.setAttributes=c(),me.insert=i().bind(null,"head"),me.domAPI=r(),me.insertStyleElement=d(),t()(he.Z,me),he.Z&&he.Z.locals&&he.Z.locals;const fe=class{static async renderUserInfo(e){const t=await y.user.get(e),n=await y.user.getFollowers(e),o=await y.user.getSubscriptions(e),r=await y.post.getUserPosts(e),s=H[localStorage.lang];let i,a=`\n        <button class="subscribe__btn open__post-btn">\n            <div class="text_button">${s.Subscribe}</div>\n        </button>`;return re.user&&re.user.subscriptions.includes(t.id)&&(a=`\n                <button class="subscribe__btn open__post-btn">\n                    <div class="text_button">${s.Unsubscribe}</div>\n                </button>`),t.id!==+localStorage.userId&&await E()||(a=`\n            <button class="subscribe__btn open__post-btn display_none">\n                <div class="text_button">${s.Unsubscribe}</div>\n            </button>`),i=""===t.settings.photo?"../../../img/base.jpg":t.settings.photo,` \n        <div class="user__block">\n            <div class="user__avatar-block">\n                <div class="user__avatar_add"></div>\n                    <img class="user__avatar_img" src="${i}" alt="avatar" />\n                </div>\n                <div class="user__infoStat">\n                    <div class="user__info">\n                        <div class="user__name">\n                            <p class="user__name_title">${t.settings.name}</p>\n                            <p class="user__name_nickname">@${t.username}</p>\n                        </div>\n                        <div class="user__statistics">\n                            <div class="user__statistics-block">\n                                <p class="user__posts_quantity">${r.length}</p>\n                                <p class="user__statistics_title">${s.Posts}</p>\n                        </div>\n                        <div class="user__divider"></div>\n                            <div class="user__statistics-block user__followers">\n                                <p class="user__followers_quantity">${n.length}</p>\n                                <p class="user__statistics_title">${s.Followers}</p>\n                            </div>\n                            <div class="user__divider"></div>\n                            <div class="user__statistics-block user__following">\n                            <p class="user__following_quantity">${o.length}</p>\n                            <p class="user__statistics_title">${s.Following}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="user__description-block">\n                        <div class="user__description">\n                        ${t.settings.descriptionProfile}\n                        </div>\n                            ${a}\n                        </div>\n                    </div>\n                </div>\n            <div class="divider">\n            <div class="divider__part"></div>\n            </div>  \n        <div class="user__post-block">\n          <a class="route" href="/${t.username}/posts">\n            <div class="user__post-item user__post-item_posts">\n              <img class="user__post-item_icon active_icon" src='/img/icons/posts-icon.svg' alt="posts" />\n              <button class="user__post-item_text active">${s.Posts}</button>\n            </div>\n          </a>\n          <a class="route" href="/${t.username}/favorites">\n            <div class="user__post-item user__post-item_favorites">\n              <img class="user__post-item_icon" src='/img/icons/favorites-icon.svg' alt="favorites" />\n              <button class="user__post-item_text">${s.Favorites}</button>\n            </div>\n          </a>\n        </div>\n        `}};class be{static async setUserInfo(e){const t=document.createElement("div");t.classList.add("user"),document.querySelector("main")?.append(t),t.innerHTML=await fe.renderUserInfo(e);const n=document.querySelector(".view");n?.addEventListener("click",(()=>{n.classList.toggle("active_icon"),be.changeView()}))}static changeView(){document.querySelectorAll(".post__img").forEach((e=>{const t=e;t.style.width="100%",t.style.height="465px"}))}static async subscribeToUser(e){const t=await y.user.get(e),n=H[localStorage.lang],o=localStorage.getItem("sessionId");await y.user.subscribe({sessionId:o,username:t.username});const r=localStorage.getItem("userId"),s=document.querySelector(".subscribe__btn"),i=await y.user.getFollowers(e);document.querySelector(".user__followers_quantity").innerHTML=i.length.toString(),i.filter((e=>e.id===+r)).length>0?s.children[0].innerHTML=n.Unsubscribe:s.children[0].innerHTML=n.Subscribe}}const _e=be;var ve=n(292),ye={};ye.styleTagTransform=u(),ye.setAttributes=c(),ye.insert=i().bind(null,"head"),ye.domAPI=r(),ye.insertStyleElement=d(),t()(ve.Z,ye),ve.Z&&ve.Z.locals&&ve.Z.locals;const we=class{static renderPostImg(e,t){return`\n        <a class="route" href="/p/${e}"><img class="post__img" src=${t} alt="image"/></a>\n        `}};class xe{static setPostsInfo(){const e=document.createElement("div");e.classList.add("post__block"),document.querySelector(".user")?.append(e)}static clearGalleryChilds(){document.querySelector(".post__block")?.childNodes.forEach((e=>{e.remove()}))}static async setPosts(e){try{const t=document.querySelector(".post__block");(await y.post.getUserPosts(e)).forEach((async e=>{const n=we.renderPostImg(e.id,e.image);t?.insertAdjacentHTML("afterbegin",n)})),xe.setTabSwitch()}catch(e){xe.clearGalleryChilds();const t='<p class="no-results">No results...Please try again</p>';document.querySelector(".post__block")?.insertAdjacentHTML("afterbegin",t)}}static setTabSwitch(){const e=document.querySelector(".user__post-item_posts"),t=document.querySelector(".divider__part"),n=document.querySelector(".user__post-item_favorites"),o=e.children[1],r=e.children[0],s=n.children[1],i=n.children[0];o.classList.add("active"),r.classList.add("active_icon"),s.classList.remove("active"),i.classList.remove("active_icon"),t.style.marginLeft="7%"}}const ke=xe,Se=class{static async setGeneralController(e){await _e.setUserInfo(e),ke.setPostsInfo(),await ke.setPosts(e)}static async setFavController(e){const t=document.querySelector(".user"),n=document.querySelector(".open__post-block");n&&(n.style.display="none"),t||await _e.setUserInfo(e),ke.setPostsInfo(),await ge.setFavPosts(e)}static async setPosts(e){document.querySelector(".user")||await _e.setUserInfo(e),ke.setPostsInfo(),await ke.setPosts(e)}static async checkSession(e,t){const n=await y.user.get(t),{sessions:o}=n;return o.includes(e)?{equal:!0}:{equal:!1,username:n.username}}static async setListeners(){document.querySelector("body").addEventListener("click",(async e=>{if(e.target.closest(".subscribe__btn")){const e=await y.user.getAll(),t=window.location.pathname.split("/")[1],n=e.find((e=>e.username===t));n&&await _e.subscribeToUser(n.id)}}))}},Ce=class{static renderStructure(){const e=document.querySelector("body"),t=document.querySelector("header"),n=document.querySelector("main"),o=document.querySelector("footer");t&&n&&o||(e.innerHTML='\n            <header class="container header"></header>\n            <main class="container"></main>\n            <footer class="container">\n            <a href="https://github.com/shtag">shtag</a>\n            <a href="https://github.com/wozzzie">wozzzie</a>\n            <a href="https://github.com/astap13">astap13</a>\n            <a href="https://rs.school/js/">\n                <img src="https://rs.school/images/rs_school_js.svg" height="30"> \n            </a>\n            </footer>\n        ')}static setHomePageController(){G.renderHeaderContainer(),se.renderFeeds(re.page),se.checkPosition(),se.likesToComment(),se.activeInput(),se.reply()}static async setUserProfileController(e){const t=document.querySelector("main");t&&(t.innerHTML=""),await Se.setGeneralController(e)}static async userFavorite(e){const t=document.querySelector(".post__block");t&&(t.innerHTML=""),await Se.setFavController(e)}static async userPosts(e){const t=document.querySelector(".post__block");t&&(t.innerHTML=""),Se.setPosts(e)}static async setPost(e){await le.setPost(e)}static async addPost(){const e=document.querySelector(".post__block");e&&(e.innerHTML=""),te.setAddPost()}static setEventListener(){document.querySelector("body").addEventListener("click",(async e=>{const t=e.target;t.closest(".imput_comment_btn")&&await se.comment(e),t.closest(".like_btn")&&await se.likeDislikePost(e),t.closest(".favorite_btn")&&await se.favorite(e),t.closest(".delete_btn")&&await se.delPost(e)}))}static setDictionary(){document.querySelector(".settings__lang")}};class Le{static renderPage(){return`\n        <div class="login_page">\n            <div class="login_form">\n                <h1>Explore Kotogram!</h1>\n                <div class="signup_btn"><div class="text_button">Sign up</div></div>\n                <div class="login_btn"><div class="text_button">Login</div></div>\n            </div>\n            <div class="popups">\n                ${Le.openSignupPopup()}\n                ${Le.openLoginPopup()}\n            </div>\n        </div>`}static openLoginPopup(){return`\n        <div class="login_popup">\n            <div class="popup_wrapper">\n                <h2>Login</h2>\n                <input type="text" class="login_login__input reg_input" placeholder="Enter username">\n                <input type="password" class="password_input reg_input" placeholder="Enter password">\n                <button class="login_popup__btn" type="button">Login</button>\n            </div>\n            ${Le.validateErr("Username or password is not correct, please try again.")}\n        </div>\n        `}static validateErr(e){return`\n        <div class="validate_error hide_error">\n            ${e}\n        </div>`}static openSignupPopup(){return`\n        <div class="signup_popup">\n            <div class="popup_wrapper">\n                <h2>Sign Up</h2>\n                <input type="text" class="signup_login__input reg_input" placeholder="Enter username">\n                <input type="password" \n                class="signup_password_input reg_input" \n                placeholder="Enter password" \n                title="Must contain 5 or more characters">\n                <input type="password" \n                class="signup_password_confirm reg_input" \n                placeholder="Confirm password">\n                <button class="login_popup__btn" type="button">Sign up</button> \n            </div>\n            ${Le.validateErr("Username already exist, please try again.")}\n        </div>`}}const Pe=Le,Ie=class{static async login(){const e=document.querySelector(".login_login__input"),t=document.querySelector(".password_input");try{e.setCustomValidity(""),t.setCustomValidity("");const n=await y.auth.login(e.value,t.value);localStorage.setItem("sessionId",n.sessionId),localStorage.setItem("userId",n.id.toString()),document.querySelector("header")?.classList.add("header"),window.history.pushState({},"","/recommendation"),ze.handleLocation()}catch{e.setCustomValidity("sss"),t.setCustomValidity("sss");const n=document.querySelectorAll(".validate_error");n[1].classList.remove("hide_error"),n[1].addEventListener("mouseover",(()=>{n[1].classList.add("hide_error"),e.setCustomValidity(""),t.setCustomValidity("")}))}}static async signup(e){const t=document.querySelector(".signup_login__input"),n=document.querySelector(".signup_password_input"),o=document.querySelector(".signup_password_confirm");n.minLength=5,o.minLength=5;const r=/^[a-zA-Z0-9]{5,22}$/.test(t.value),s=/^[a-zA-Z0-9!@#$%^&*()+=-]{5,22}$/.test(n.value),i=document.querySelectorAll(".validate_error")[0];i.addEventListener("mouseover",(()=>{i.classList.add("hide_error"),t.setCustomValidity(""),n.setCustomValidity("")}));let a=!0;if(n.value!==o.value||!s)return a=!1,i.textContent="Passwords don't match",n.setCustomValidity("hh"),o.setCustomValidity("hh"),void i.classList.remove("hide_error");if(n.setCustomValidity(""),o.setCustomValidity(""),a&&r)try{await y.auth.signUp(t.value,n.value),e.target.textContent="✓",setTimeout((()=>{e.target.textContent="Sign up";const t=document.querySelector(".popups");t.classList.add("login_active"),t.classList.remove("signup_active")}),1e3)}catch(e){t.setCustomValidity("ss"),i.classList.remove("hide_error"),i.textContent="Username already exist, please try again."}else t.setCustomValidity("ss"),i.classList.remove("hide_error"),i.textContent="Username has to be longer than 4 letters, lesser than 22 letters and don`t have spaces"}};var Te=n(118),Ee={};Ee.styleTagTransform=u(),Ee.setAttributes=c(),Ee.insert=i().bind(null,"head"),Ee.domAPI=r(),Ee.insertStyleElement=d(),t()(Te.Z,Ee),Te.Z&&Te.Z.locals&&Te.Z.locals;class qe{static renderLoginPage(){Ce.renderStructure(),document.querySelector(".header").classList.remove("header");const e=document.querySelector("main");e.innerHTML="",e.innerHTML=Pe.renderPage(),qe.setListeners()}static openLoginPopup(){document.querySelector("body").innerHTML+=Pe.openLoginPopup(),qe.setListeners()}static setListeners(){const e=document.querySelector(".login_form"),t=document.querySelectorAll(".reg_input"),n=document.querySelector("body"),o=document.querySelector(".popups");n.addEventListener("click",(n=>{const r=n.target.closest(".login_btn"),s=n.target.closest(".signup_btn");r?(e.classList.add("login_form__active"),o.classList.add("login_active"),o.classList.remove("signup_active"),q(t)):s&&(e.classList.add("login_form__active"),o.classList.add("signup_active"),o.classList.remove("login_active"),q(t)),n.target.classList.contains("login_popup__btn")&&("Login"===n.target.textContent?(n.preventDefault(),Ie.login()):"Sign up"===n.target.textContent&&Ie.signup(n))}))}}const $e=qe;class Me{static switchTheme(){document.querySelector("body").addEventListener("click",(e=>{const t=e.target.closest(".theme");t&&(t.checked?Me.changeTheme("light"):Me.changeTheme("dark"))}))}static changeTheme(e){const t=document.querySelector("body");localStorage.setItem("theme",e),"light"===e?t.classList.add("light-theme"):"dark"===e&&t.classList.remove("light-theme")}static loaderControlAnimation(){document.querySelector("body").classList.remove("preload"),Me.changeTheme(localStorage.theme)}static openLikedPosts(){const e=document.querySelector(".liked_container");e?e.remove():G.renderLikedPostsContainer()}static setListeners(){document.querySelector("body").addEventListener("click",(e=>{const t=e.target;t.closest(".likes-btn")?Me.openLikedPosts():t.closest(".likes-btns")&&console.log(11)}))}}const je=Me;class Ne{static route(e){const t=e||window.event,n=t.target.closest(".route");n&&(t.preventDefault(),window.history.pushState({},"",t.target.href||n.href),Ne.handleLocation())}static async handleLocation(){document.querySelector("html").innerHTML+=J.addGlobal();const e=window.location.pathname.split("/"),t=await y.user.getAll();Ce.renderStructure();const n=t.find((t=>t.username===e[1]));n&&2===e.length?(Ne.openProfile(n.id),localStorage.setItem("favorites","false")):"feed"===e[1]&&2===e.length?Ne.openFeed():"login"===e[1]&&2===e.length?Ne.openLogin():""===e[1]&&2===e.length?(window.history.pushState({},"","/feed"),Ne.openFeed()):"p"===e[1]&&3===e.length?Ne.openPost(+e[2]):"recommendation"===e[1]&&2===e.length?Ne.openRecommendation():n&&"favorites"===e[2]&&3===e.length?(Ne.openFavorites(n.id),localStorage.setItem("favorites","true")):n&&"posts"===e[2]&&3===e.length?(Ne.openPosts(n.id),localStorage.setItem("favorites","false")):"add"===e[1]?Ne.openAddPost():Ne.open404(),document.querySelector(".global_loader"),J.removeGlobal()}static async openAddPost(){if(console.log("open add post"),!await E())return window.history.pushState({},"","/login"),void Ne.handleLocation();await G.renderHeaderContainer(),await Ce.addPost()}static async openProfile(e){console.log("open profile"),await G.renderHeaderContainer(),document.title=`${(await y.user.get(e)).username}'s profile`,await Ce.setUserProfileController(e)}static async openPost(e){console.log("open post"),await G.renderHeaderContainer(),se.checkPosition();const t=document.querySelector("main");document.title="Post",t.innerHTML="",await Ce.setPost(e)}static async openPosts(e){console.log("posts tab"),document.title=`${(await y.user.get(e)).username}'s posts`,await G.renderHeaderContainer(),await Ce.userPosts(e)}static async openLogin(){if(console.log("open login"),await E())return window.history.pushState({},"","/feed"),void Ne.handleLocation();document.title="Login",document.querySelector("body").innerHTML="",$e.renderLoginPage()}static async openFavorites(e){console.log("favorites"),document.title=`${(await y.user.get(e)).username}'s favorites`,await G.renderHeaderContainer(),Ce.userFavorite(e)}static async openFeed(){if(console.log("open feed"),!await E())return window.history.pushState({},"","/login"),void Ne.handleLocation();re.page=1,document.title="Feed",Ce.setHomePageController()}static async openRecommendation(){if(console.log("open recommendation feed"),document.title="Recommendation",!await E())return window.history.pushState({},"","/login"),void Ne.handleLocation();Ce.setHomePageController()}static async open404(){console.log("open 404");const e=document.querySelector("main");e.innerHTML="",e.innerHTML='\n        <div class="page_404">\n            <h1>This page not exist!</h1>\n            <a href="/feed" class="route">Go to home page</a>\n        </div>'}static async setEventListeners(){document.querySelector("body").addEventListener("click",(e=>{e.target.closest(".route")&&Ne.route(e)})),await Ne.handleLocation(),je.switchTheme(),window.addEventListener("popstate",(async()=>{await Ne.handleLocation()}))}static async checkSession(){const e=await y.auth.checkSession({id:+localStorage.userId,sessionId:localStorage.sessionId});return!(!localStorage.sessionId||""===localStorage.sessionId||!e.sessionActive)}}const ze=Ne;(class{static async start(){console.log("start"),await E()&&(re.user=await y.user.get(+localStorage.userId)),localStorage.lang||(localStorage.lang="en"),ze.setEventListeners(),Ce.setEventListener(),je.loaderControlAnimation(),je.setListeners(),Se.setListeners(),setTimeout((()=>{W.setBodyListeners()}),2e3)}}).start()})()})();